<div class="pod_result">
    <div class="pod-metadata clearfix"></div>
    <div class="sideline col-sm-3 col-xs-12 col-sm-push-9">
        <h1 class="visible-xs inline-headline">
            <a href='/pods/Alamofire'>Alamofire</a>
            <span>4.4.0</span>
        </h1>
        <div class="close-expanded">
            <a href="#">&times;</a>
        </div>
        <h3></h3>
        <table class='header'>
            <tbody>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>Docs</span>
                        <span class='visible-lg-span'>Documented</span>
                    </td>
                    <td>✓</td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>Tests</span>
                        <span class='visible-lg-span'>Tested</span>
                    </td>
                    <td>✓</td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>Lang</span>
                        <span class='visible-lg-span'>Language</span>
                    </td>
                    <td>
                        <span class='hidden-lg-span'>Swift</span>
                        <span class='visible-lg-span'>Swift</span>
                    </td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>
                        <a href='http://opensource.org/licenses/MIT'>MIT</a>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>Released</span>
                        <span class='visible-lg-span'>Last Release</span>
                    </td>
                    <td>Feb 2017</td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>Swift</span>
                        <span class='visible-lg-span'>Swift Version</span>
                    </td>
                    <td>3.0</td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>SPM</span>
                        <span class='visible-lg-span'>Supports SPM</span>
                    </td>
                    <td>✓</td>
                </tr>
            </tbody>
        </table>
        <p>Maintained by
            <a href='/owners/6364'>Christian Noon</a>,
            <a href='/owners/3182'>Kevin Harwood</a>,
            <a href='/owners/2804'>Jon Shier</a>.
        </p>
        <hr/>
        <h3>Downloads</h3>
        <table class='inset'>
            <tbody>
                <tr>
                    <td>Total</td>
                    <td>15,465,017</td>
                </tr>
                <tr>
                    <td>Week</td>
                    <td>356,341</td>
                </tr>
                <tr>
                    <td>Month</td>
                    <td>1,373,068</td>
                </tr>
            </tbody>
        </table>
        <h3>Installs</h3>
        <table class='inset'>
            <tbody>
                <tr>
                    <td>Apps</td>
                    <td>347,522</td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>Apps Week</span>
                        <span class='visible-lg-span'>Apps This Week</span>
                    </td>
                    <td>25,444</td>
                </tr>
                <tr>
                    <td>Pod Tries</td>
                    <td>1,356</td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>Pod Tries Week</span>
                        <span class='visible-lg-span'>Pod Tries This Week</span>
                    </td>
                    <td>11</td>
                </tr>
                <tr>
                    <td>Test Targets</td>
                    <td>30,319</td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>Test Week</span>
                        <span class='visible-lg-span'>Tests This week</span>
                    </td>
                    <td>3,242</td>
                </tr>
                <tr>
                    <td>Watch Apps</td>
                    <td>137</td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>Watch Apps Week</span>
                        <span class='visible-lg-span'>Watch Apps This week</span>
                    </td>
                    <td>3</td>
                </tr>
            </tbody>
        </table>
        <sub>powered by
            <a href="https://segment.com">Segment</a>
        </sub>
        <hr/>
        <h3>GitHub</h3>
        <table class='inset'>
            <tbody>
                <tr>
                    <td>Stars</td>
                    <td>23,450</td>
                </tr>
                <tr>
                    <td>Watchers</td>
                    <td>1,044</td>
                </tr>
                <tr>
                    <td>Forks</td>
                    <td>4,051</td>
                </tr>
                <tr>
                    <td>Issues</td>
                    <td>15</td>
                </tr>
                <tr>
                    <td>Contributors</td>
                    <td>134</td>
                </tr>
                <tr>
                    <td>Pull Requests</td>
                    <td>11</td>
                </tr>
            </tbody>
        </table>
        <hr/>
        <h3>Code</h3>
        <table class='inset'>
            <tbody>
                <tr>
                    <td>Files</td>
                    <td>17</td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>Size</span>
                        <span class='visible-lg-span'>Integration Size</span>
                    </td>
                    <td>400 kb</td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>Framework</span>
                        <span class='visible-lg-span'>Creates Framework</span>
                    </td>
                    <td>✓</td>
                </tr>
                <tr>
                    <td>
                        <span class='hidden-lg-span'>LOC</span>
                        <span class='visible-lg-span'>Lines of Code</span>
                    </td>
                    <td>3,794</td>
                </tr>
            </tbody>
        </table>
        <hr/>
        <button class="btn" data-target="#installation_guide" data-toggle="modal" type="button">Installation Guide</button>
        <div aria-hidden="true" aria-labelledby="installation_label" class="modal fade" id="installation_guide" role="dialog" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                            <span aria-hidden="true">&times</span>
                        </button>
                        <h4 class="modal-title" id="installation_label">Installation Guide for Alamofire</h4>
                    </div>
                    <div class="modal-body">
                        <p>You want to add
                            <code>pod 'Alamofire', '~> 4.4'</code> similar to the following to your Podfile:
                        </p>
                        <pre>
                            <code>target 'MyApp' do
  pod 'Alamofire', '~> 4.4'
end</code>
                        </pre>
                        <p>Then run a
                            <code>pod install</code> inside your terminal, or from CocoaPods.app.
                        </p>
                        <hr/>
                        <p>Alternatively to give it a test run, run the command:</p>
                        <p>
                            <code>pod try Alamofire</code>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <hr/>
        <ul class="links">
            <li>
                <a href="https://github.com/CocoaPods/Specs/blob/master/Specs/d/a/2/Alamofire/4.4.0/Alamofire.podspec.json">See Podspec</a>
            </li>
            <li>
                <a href="http://cocoadocs.org/docsets/Alamofire/4.4.0">Documentation</a>
            </li>
            <li>
                <a href="https://github.com/Alamofire/Alamofire">GitHub Repo</a>
            </li>
            <li>
                <a href="https://cocoapods.org/pods/Alamofire">Page on CocoaPods.org</a>
            </li>
        </ul>
    </div>
    <div class="readme-content col-sm-9 col-xs-12 col-sm-pull-3">
        <div class="inline-headline">
            <h1 class="hidden-xs">
                <a href='/pods/Alamofire'>Alamofire</a>
                <span>4.4.0</span>
            </h1>
        </div>
        <ul class="attribution">
            <li>By</li>
            <li>Alamofire Software Foundation</li>
            <li class="twitter">
                <a href="https://twitter.com/AlamofireSF">AlamofireSF</a>
            </li>
        </ul>
        <nav>
            <ul>
                <li class="github-link">
                    <a class="hidden-xs" href="https://github.com/Alamofire/Alamofire">Alamofire/Alamofire</a>
                    <a class="visible-xs" href="https://github.com/Alamofire/Alamofire">GitHub Repo</a>
                </li>
                <a href="/pods/Alamofire/quality">
                    <li class="metadata quality_indicator quality_5">
                        <?xml version="1.0" encoding="UTF-8" standalone="no"?>
                        <svg width="30px" height="29px" viewBox="0 0 30 29" version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
                                <g id="pod" sketch:type="MSLayerGroup">
                                    <rect id="bg" fill-opacity="0.0341372283" fill="#000000" sketch:type="MSShapeGroup" x="0" y="0" width="30" height="29" rx="8"></rect>
                                    <path d="M14.8945416,1.48101993 C13.1855416,1.48101993 9.54654156,1.88101993 9.54654156,3.98801993 C9.54654156,6.32001993 13.0965416,11.2720199 14.8945416,11.2720199 C16.6925416,11.2720199 20.2425416,6.32001993 20.2425416,3.98801993 C20.2425416,1.88101993 16.6035416,1.48101993 14.8945416,1.48101993" id="top" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
                                    <path d="M2.62992103,10.8751496 C2.10192103,12.5001496 1.35792103,16.0841496 3.36292103,16.7351496 C5.57992103,17.4561496 11.385921,15.6101496 11.941921,13.9001496 C12.496921,12.1901496 8.88492103,7.28414965 6.66792103,6.56414965 C4.66192103,5.91314965 3.15792103,9.24914965 2.62992103,10.8751496" id="left" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
                                    <path d="M7.21553078,25.7032179 C8.59853078,26.7082179 11.7765308,28.5232179 13.0155308,26.8172179 C14.3855308,24.9312179 14.4245308,18.8392179 12.9695308,17.7822179 C11.5155308,16.7252179 5.73353078,18.6442179 4.36353078,20.5312179 C3.12253078,22.2372179 5.83153078,24.6982179 7.21553078,25.7032179" id="bottom-left" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
                                    <path d="M22.8835437,25.7032256 C24.2665437,24.6982256 26.9745437,22.2372256 25.7355437,20.5302256 C24.3655437,18.6442256 18.5835437,16.7252256 17.1285437,17.7822256 C15.6745437,18.8392256 15.7125437,24.9312256 17.0825437,26.8162256 C18.3225437,28.5232256 21.5005437,26.7082256 22.8835437,25.7032256" id="bottom-right" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
                                    <path d="M27.4157447,10.876149 C26.8877447,9.24914899 25.3837447,5.91314899 23.3777447,6.56414899 C21.1607447,7.28414899 17.5487447,12.190149 18.1037447,13.900149 C18.6607447,15.610149 24.4657447,17.456149 26.6837447,16.735149 C28.6887447,16.084149 27.9447447,12.501149 27.4157447,10.876149" id="right" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
                                </g>
                            </g>
                        </svg>
                    </li>
                </a>
            </ul>
        </nav>
        <div class="clearfix"></div>
        <ul class="nav nav-tabs" id="asset_switcher" role="tablist">
            <li class="active">
                <a aria-controls="README" class="media_node span" data-target="#readme" data-toggle="tab" href="#" id="readme_tab">OVERVIEW</a>
            </li>
            <li>
                <a aria-controls="CHANGELOG" class="media_node span media_node span" data-target="#changelog_content" data-toggle="tabajax" href="/pods/Alamofire/changelog" id="changelog_tab">CHANGELOG</a>
            </li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane active" id="readme">
                <section class="section">
                    <p>
                        <a href="https://raw.githubusercontent.com/Alamofire/Alamofire/assets/alamofire.png" target="_blank">
                            <img src="https://raw.githubusercontent.com/Alamofire/Alamofire/assets/alamofire.png" alt="Alamofire: Elegant Networking in Swift" style="max-width:100%;">
                            </a>
                        </p>
                        <p></p>
                        <p>Alamofire is an HTTP networking library written in Swift.</p>
                        <ul>
                            <li>
                                <a href="#features">Features</a>
                            </li>
                            <li>
                                <a href="#component-libraries">Component Libraries</a>
                            </li>
                            <li>
                                <a href="#requirements">Requirements</a>
                            </li>
                            <li>
                                <a href="#migration-guides">Migration Guides</a>
                            </li>
                            <li>
                                <a href="#communication">Communication</a>
                            </li>
                            <li>
                                <a href="#installation">Installation</a>
                            </li>
                            <li>
                                <a href="#usage">Usage</a>
                                <ul>
                                    <li>
                                        <strong>Intro -</strong>
                                        <a href="#making-a-request">Making a Request</a>,
                                        <a href="#response-handling">Response Handling</a>,
                                        <a href="#response-validation">Response Validation</a>,
                                        <a href="#response-caching">Response Caching</a>
                                    </li>
                                    <li>
                                        <strong>HTTP -</strong>
                                        <a href="#http-methods">HTTP Methods</a>,
                                        <a href="#parameter-encoding">Parameter Encoding</a>,
                                        <a href="#http-headers">HTTP Headers</a>,
                                        <a href="#authentication">Authentication</a>
                                    </li>
                                    <li>
                                        <strong>Large Data -</strong>
                                        <a href="#downloading-data-to-a-file">Downloading Data to a File</a>,
                                        <a href="#uploading-data-to-a-server">Uploading Data to a Server</a>
                                    </li>
                                    <li>
                                        <strong>Tools -</strong>
                                        <a href="#statistical-metrics">Statistical Metrics</a>,
                                        <a href="#curl-command-output">cURL Command Output</a>
                                    </li>
                                </ul>
                                <p></p>
                            </li>
                            <li>
                                <a href="#advanced-usage">Advanced Usage</a>
                                <ul>
                                    <li>
                                        <strong>URL Session -</strong>
                                        <a href="#session-manager">Session Manager</a>,
                                        <a href="#session-delegate">Session Delegate</a>,
                                        <a href="#request">Request</a>
                                    </li>
                                    <li>
                                        <strong>Routing -</strong>
                                        <a href="#routing-requests">Routing Requests</a>,
                                        <a href="#adapting-and-retrying-requests">Adapting and Retrying Requests</a>
                                    </li>
                                    <li>
                                        <strong>Model Objects -</strong>
                                        <a href="#custom-response-serialization">Custom Response Serialization</a>
                                    </li>
                                    <li>
                                        <strong>Connection -</strong>
                                        <a href="#security">Security</a>,
                                        <a href="#network-reachability">Network Reachability</a>
                                    </li>
                                </ul>
                                <p></p>
                            </li>
                            <li>
                                <a href="#open-radars">Open Radars</a>
                            </li>
                            <li>
                                <a href="#faq">FAQ</a>
                            </li>
                            <li>
                                <a href="#credits">Credits</a>
                            </li>
                            <li>
                                <a href="#donations">Donations</a>
                            </li>
                            <li>
                                <a href="#license">License</a>
                            </li>
                        </ul>
                        <h2>
                            <a id="user-content-features" class="anchor" href="#features" aria-hidden="true">
                                <span aria-hidden="true" class="octicon octicon-link"></span>
                            </a>Features
                        </h2>
                        <ul>
                            <li>[x] Chainable Request / Response Methods</li>
                            <li>[x] URL / JSON / plist Parameter Encoding</li>
                            <li>[x] Upload File / Data / Stream / MultipartFormData</li>
                            <li>[x] Download File using Request or Resume Data</li>
                            <li>[x] Authentication with URLCredential</li>
                            <li>[x] HTTP Response Validation</li>
                            <li>[x] Upload and Download Progress Closures with Progress</li>
                            <li>[x] cURL Command Output</li>
                            <li>[x] Dynamically Adapt and Retry Requests</li>
                            <li>[x] TLS Certificate and Public Key Pinning</li>
                            <li>[x] Network Reachability</li>
                            <li>[x] Comprehensive Unit and Integration Test Coverage</li>
                            <li>[x]
                                <a href="http://cocoadocs.org/docsets/Alamofire">Complete Documentation</a>
                            </li>
                        </ul>
                        <h2>
                            <a id="user-content-component-libraries" class="anchor" href="#component-libraries" aria-hidden="true">
                                <span aria-hidden="true" class="octicon octicon-link"></span>
                            </a>Component Libraries
                        </h2>
                        <p>In order to keep Alamofire focused specifically on core networking implementations, additional component libraries have been created by the
                            <a href="https://github.com/Alamofire/Foundation">Alamofire Software Foundation</a> to bring additional functionality to the Alamofire ecosystem.
                        </p>
                        <ul>
                            <li>
                                <a href="https://github.com/Alamofire/AlamofireImage">AlamofireImage</a> - An image library including image response serializers,
                                <code>UIImage</code> and
                                <code>UIImageView</code> extensions, custom image filters, an auto-purging in-memory cache and a priority-based image downloading system.
                            </li>
                            <li>
                                <a href="https://github.com/Alamofire/AlamofireNetworkActivityIndicator">AlamofireNetworkActivityIndicator</a> - Controls the visibility of the network activity indicator on iOS using Alamofire. It contains configurable delay timers to help mitigate flicker and can support
                                <code>URLSession</code> instances not managed by Alamofire.
                            </li>
                        </ul>
                        <h2>
                            <a id="user-content-requirements" class="anchor" href="#requirements" aria-hidden="true">
                                <span aria-hidden="true" class="octicon octicon-link"></span>
                            </a>Requirements
                        </h2>
                        <ul>
                            <li>iOS 8.0+ / macOS 10.10+ / tvOS 9.0+ / watchOS 2.0+</li>
                            <li>Xcode 8.1+</li>
                            <li>Swift 3.0+</li>
                        </ul>
                        <h2>
                            <a id="user-content-migration-guides" class="anchor" href="#migration-guides" aria-hidden="true">
                                <span aria-hidden="true" class="octicon octicon-link"></span>
                            </a>Migration Guides
                        </h2>
                        <ul>
                            <li>
                                <a href="https://github.com/Alamofire/Alamofire/blob/master/Documentation/Alamofire%204.0%20Migration%20Guide.md">Alamofire 4.0 Migration Guide</a>
                            </li>
                            <li>
                                <a href="https://github.com/Alamofire/Alamofire/blob/master/Documentation/Alamofire%203.0%20Migration%20Guide.md">Alamofire 3.0 Migration Guide</a>
                            </li>
                            <li>
                                <a href="https://github.com/Alamofire/Alamofire/blob/master/Documentation/Alamofire%202.0%20Migration%20Guide.md">Alamofire 2.0 Migration Guide</a>
                            </li>
                        </ul>
                        <h2>
                            <a id="user-content-communication" class="anchor" href="#communication" aria-hidden="true">
                                <span aria-hidden="true" class="octicon octicon-link"></span>
                            </a>Communication
                        </h2>
                        <ul>
                            <li>If you
                                <strong>need help</strong>, use
                                <a href="http://stackoverflow.com/questions/tagged/alamofire">Stack Overflow</a>. (Tag ‘alamofire’)
                            </li>
                            <li>If you’d like to
                                <strong>ask a general question</strong>, use
                                <a href="http://stackoverflow.com/questions/tagged/alamofire">Stack Overflow</a>.
                            </li>
                            <li>If you
                                <strong>found a bug</strong>, open an issue.
                            </li>
                            <li>If you
                                <strong>have a feature request</strong>, open an issue.
                            </li>
                            <li>If you
                                <strong>want to contribute</strong>, submit a pull request.
                            </li>
                        </ul>
                        <h2>
                            <a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true">
                                <span aria-hidden="true" class="octicon octicon-link"></span>
                            </a>Installation
                        </h2>
                        <h3>
                            <a id="user-content-swift-package-manager" class="anchor" href="#swift-package-manager" aria-hidden="true">
                                <span aria-hidden="true" class="octicon octicon-link"></span>
                            </a>Swift Package Manager
                        </h3>
                        <p>The
                            <a href="https://swift.org/package-manager/">Swift Package Manager</a> is a tool for automating the distribution of Swift code and is integrated into the
                            <code>swift</code> compiler. It is in early development, but Alamofire does support its use on supported platforms.
                        </p>
                        <p>Once you have your Swift package set up, adding Alamofire as a dependency is as easy as adding it to the
                            <code>dependencies</code> value of your
                            <code>Package.swift</code>.
                        </p>
                        <div class="highlight highlight-source-swift">
                            <pre>dependencies
                                <span class="pl-k">:</span> [
    .
                                <span class="pl-c1">Package</span>(
                                <span class="pl-c1">url</span>:
                                <span class="pl-s">
                                    <span class="pl-pds">"</span>https://github.com/Alamofire/Alamofire.git
                                    <span class="pl-pds">"</span>
                                </span>,
                                <span class="pl-c1">majorVersion</span>:
                                <span class="pl-c1">4</span>)
]
                            </pre>
                        </div>
                        <h3>
                            <a id="user-content-manually" class="anchor" href="#manually" aria-hidden="true">
                                <span aria-hidden="true" class="octicon octicon-link"></span>
                            </a>Manually
                        </h3>
                        <p>If you prefer not to use either of the aforementioned dependency managers, you can integrate Alamofire into your project manually.</p>
                        <h4>
                            <a id="user-content-embedded-framework" class="anchor" href="#embedded-framework" aria-hidden="true">
                                <span aria-hidden="true" class="octicon octicon-link"></span>
                            </a>Embedded Framework
                        </h4>
                        <ul>
                            <li>
                                <p>Open up Terminal,
                                    <code>cd</code> into your top-level project directory, and run the following command “if” your project is not initialized as a git repository:
                                </p>
                                <div class="highlight highlight-source-shell">
                                    <pre>$ git init</pre>
                                </div>
                            </li>
                            <li>
                                <p>Add Alamofire as a git
                                    <a href="http://git-scm.com/docs/git-submodule">submodule</a> by running the following command:
                                </p>
                                <div class="highlight highlight-source-shell">
                                    <pre>$ git submodule add https://github.com/Alamofire/Alamofire.git</pre>
                                </div>
                            </li>
                            <li>
                                <p>Open the new
                                    <code>Alamofire</code> folder, and drag the
                                    <code>Alamofire.xcodeproj</code> into the Project Navigator of your application’s Xcode project.
                                </p>
                                <blockquote>
                                    <p>It should appear nested underneath your application’s blue project icon. Whether it is above or below all the other Xcode groups does not matter.</p>
                                </blockquote>
                            </li>
                            <li>
                                <p>Select the
                                    <code>Alamofire.xcodeproj</code> in the Project Navigator and verify the deployment target matches that of your application target.
                                </p>
                            </li>
                            <li>Next, select your application project in the Project Navigator (blue project icon) to navigate to the target configuration window and select the application target under the “Targets” heading in the sidebar.</li>
                            <li>In the tab bar at the top of that window, open the “General” panel.</li>
                            <li>Click on the
                                <code>+</code> button under the “Embedded Binaries” section.
                            </li>
                            <li>
                                <p>You will see two different
                                    <code>Alamofire.xcodeproj</code> folders each with two different versions of the
                                    <code>Alamofire.framework</code> nested inside a
                                    <code>Products</code> folder.
                                </p>
                                <blockquote>
                                    <p>It does not matter which
                                        <code>Products</code> folder you choose from, but it does matter whether you choose the top or bottom
                                        <code>Alamofire.framework</code>.
                                    </p>
                                </blockquote>
                            </li>
                            <li>
                                <p>Select the top
                                    <code>Alamofire.framework</code> for iOS and the bottom one for OS X.
                                </p>
                                <blockquote>
                                    <p>You can verify which one you selected by inspecting the build log for your project. The build target for
                                        <code>Alamofire</code> will be listed as either
                                        <code>Alamofire iOS</code>,
                                        <code>Alamofire macOS</code>,
                                        <code>Alamofire tvOS</code> or
                                        <code>Alamofire watchOS</code>.
                                    </p>
                                </blockquote>
                            </li>
                            <li>
                                <p>And that’s it!</p>
                                <blockquote>
                                    <p>The
                                        <code>Alamofire.framework</code> is automagically added as a target dependency, linked framework and embedded framework in a copy files build phase which is all you need to build on the simulator and a device.
                                    </p>
                                </blockquote>
                            </li>
                        </ul>
                        <p></p>
                        <hr>
                            <h2>
                                <a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Usage
                            </h2>
                            <h3>
                                <a id="user-content-making-a-request" class="anchor" href="#making-a-request" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Making a Request
                            </h3>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">import</span>
                                    <span class="pl-en">Alamofire</span>

Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>)
                                </pre>
                            </div>
                            <h3>
                                <a id="user-content-response-handling" class="anchor" href="#response-handling" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Response Handling
                            </h3>
                            <p>Handling the
                                <code>Response</code> of a
                                <code>Request</code> made in Alamofire involves chaining a response handler onto the
                                <code>Request</code>.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">print</span>(response.
                                    <span class="pl-smi">request</span>)
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> original URL request
                                    </span>
                                    <span class="pl-c"></span>
                                    <span class="pl-c1">print</span>(response.
                                    <span class="pl-smi">response</span>)
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> HTTP URL response
                                    </span>
                                    <span class="pl-c"></span>
                                    <span class="pl-c1">print</span>(response.
                                    <span class="pl-smi">data</span>)
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> server data
                                    </span>
                                    <span class="pl-c"></span>
                                    <span class="pl-c1">print</span>(response.
                                    <span class="pl-smi">result</span>)
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> result of response serialization
                                    </span>
                                    <span class="pl-c"></span>
                                    <span class="pl-k">if</span>
                                    <span class="pl-k">let</span> JSON
                                    <span class="pl-k">=</span> response.
                                    <span class="pl-smi">result</span>.
                                    <span class="pl-c1">value</span> {

                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>JSON:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">JSON</span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    }
}
                                </pre>
                            </div>
                            <p>In the above example, the
                                <code>responseJSON</code> handler is appended to the
                                <code>Request</code> to be executed once the
                                <code>Request</code> is complete. Rather than blocking execution to wait for a response from the server, a
                                <a href="http://en.wikipedia.org/wiki/Callback_%28computer_programming%29">callback</a> in the form of a closure is specified to handle the response once it’s received. The result of a request is only available inside the scope of a response closure. Any execution contingent on the response or data received from the server must be done within a response closure.
                            </p>
                            <blockquote>
                                <p>Networking in Alamofire is done
                                    <em>asynchronously</em>. Asynchronous programming may be a source of frustration to programmers unfamiliar with the concept, but there are
                                    <a href="https://developer.apple.com/library/ios/qa/qa1693/_index.html">very good reasons</a> for doing it this way.
                                </p>
                            </blockquote>
                            <p>Alamofire contains five different response handlers by default including:</p>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> Response Handler - Unserialized Response
                                    </span>
                                    <span class="pl-c"></span>
                                    <span class="pl-k">func</span>
                                    <span class="pl-en">response</span>(

                                    <span class="pl-smi">
                                        <span class="pl-en">queue</span>
                                    </span>: DispatchQueue
                                    <span class="pl-k">?</span>,

                                    <span class="pl-smi">
                                        <span class="pl-en">completionHandler</span>
                                    </span>:
                                    <span class="pl-k">@escaping</span> (DefaultDataResponse)
                                    <span class="pl-k">-&gt;</span>
                                    <span class="pl-c1">Void</span>)

                                    <span class="pl-k">-&gt;</span>
                                    <span class="pl-c1">Self</span>
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> Response Data Handler - Serialized into Data
                                    </span>
                                    <span class="pl-c"></span>
                                    <span class="pl-k">func</span>
                                    <span class="pl-en">responseData</span>(

                                    <span class="pl-smi">
                                        <span class="pl-en">queue</span>
                                    </span>: DispatchQueue
                                    <span class="pl-k">?</span>,

                                    <span class="pl-smi">
                                        <span class="pl-en">completionHandler</span>
                                    </span>:
                                    <span class="pl-k">@escaping</span> (DataResponse&lt;Data&gt;)
                                    <span class="pl-k">-&gt;</span>
                                    <span class="pl-c1">Void</span>)

                                    <span class="pl-k">-&gt;</span>
                                    <span class="pl-c1">Self</span>
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> Response String Handler - Serialized into String
                                    </span>
                                    <span class="pl-c"></span>
                                    <span class="pl-k">func</span>
                                    <span class="pl-en">responseString</span>(

                                    <span class="pl-smi">
                                        <span class="pl-en">queue</span>
                                    </span>: DispatchQueue
                                    <span class="pl-k">?</span>,

                                    <span class="pl-smi">
                                        <span class="pl-en">encoding</span>
                                    </span>:
                                    <span class="pl-c1">String</span>.Encoding
                                    <span class="pl-k">?</span>,

                                    <span class="pl-smi">
                                        <span class="pl-en">completionHandler</span>
                                    </span>:
                                    <span class="pl-k">@escaping</span> (DataResponse&lt;
                                    <span class="pl-c1">String</span>&gt;)
                                    <span class="pl-k">-&gt;</span>
                                    <span class="pl-c1">Void</span>)

                                    <span class="pl-k">-&gt;</span>
                                    <span class="pl-c1">Self</span>
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> Response JSON Handler - Serialized into Any
                                    </span>
                                    <span class="pl-c"></span>
                                    <span class="pl-k">func</span>
                                    <span class="pl-en">responseJSON</span>(

                                    <span class="pl-smi">
                                        <span class="pl-en">queue</span>
                                    </span>: DispatchQueue
                                    <span class="pl-k">?</span>,

                                    <span class="pl-smi">
                                        <span class="pl-en">completionHandler</span>
                                    </span>:
                                    <span class="pl-k">@escaping</span> (DataResponse&lt;
                                    <span class="pl-c1">Any</span>&gt;)
                                    <span class="pl-k">-&gt;</span>
                                    <span class="pl-c1">Void</span>)

                                    <span class="pl-k">-&gt;</span>
                                    <span class="pl-c1">Self</span>
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> Response PropertyList (plist) Handler - Serialized into Any
                                    </span>
                                    <span class="pl-c"></span>
                                    <span class="pl-k">func</span>
                                    <span class="pl-en">responsePropertyList</span>(

                                    <span class="pl-smi">
                                        <span class="pl-en">queue</span>
                                    </span>: DispatchQueue
                                    <span class="pl-k">?</span>,

                                    <span class="pl-smi">
                                        <span class="pl-en">completionHandler</span>
                                    </span>:
                                    <span class="pl-k">@escaping</span> (DataResponse&lt;
                                    <span class="pl-c1">Any</span>&gt;)
                                    <span class="pl-k">-&gt;</span>
                                    <span class="pl-c1">Void</span>))

                                    <span class="pl-k">-&gt;</span>
                                    <span class="pl-c1">Self</span>
                                </pre>
                            </div>
                            <p>None of the response handlers perform any validation of the
                                <code>HTTPURLResponse</code> it gets back from the server.
                            </p>
                            <blockquote>
                                <p>For example, response status codes in the
                                    <code>400..&lt;499</code> and
                                    <code>500..&lt;599</code> ranges do NOT automatically trigger an
                                    <code>Error</code>. Alamofire uses
                                    <a href="#response-validation">Response Validation</a> method chaining to achieve this.
                                </p>
                            </blockquote>
                            <h4>
                                <a id="user-content-response-handler" class="anchor" href="#response-handler" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Response Handler
                            </h4>
                            <p>The
                                <code>response</code> handler does NOT evaluate any of the response data. It merely forwards on all information directly from the URL session delegate. It is the Alamofire equivalent of using
                                <code>cURL</code> to execute a
                                <code>Request</code>.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-smi">response</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Request:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">response.
                                            <span class="pl-smi">request</span>
                                        </span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)

                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Response:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">response.
                                            <span class="pl-smi">response</span>
                                        </span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)

                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Error:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">response.
                                            <span class="pl-c1">error</span>
                                        </span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)


                                    <span class="pl-k">if</span>
                                    <span class="pl-k">let</span> data
                                    <span class="pl-k">=</span> response.
                                    <span class="pl-smi">data</span>,
                                    <span class="pl-k">let</span> utf8Text
                                    <span class="pl-k">=</span>
                                    <span class="pl-c1">String</span>(
                                    <span class="pl-c1">data</span>: data,
                                    <span class="pl-c1">encoding</span>: .
                                    <span class="pl-c1">utf8</span>) {

                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Data:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">utf8Text</span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    }
}
                                </pre>
                            </div>
                            <blockquote>
                                <p>We strongly encourage you to leverage the other response serializers taking advantage of
                                    <code>Response</code> and
                                    <code>Result</code> types.
                                </p>
                            </blockquote>
                            <h4>
                                <a id="user-content-response-data-handler" class="anchor" href="#response-data-handler" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Response Data Handler
                            </h4>
                            <p>The
                                <code>responseData</code> handler uses the
                                <code>responseDataSerializer</code> (the object that serializes the server data into some other type) to extract the
                                <code>Data</code> returned by the server. If no errors occur and
                                <code>Data</code> is returned, the response
                                <code>Result</code> will be a
                                <code>.success</code> and the
                                <code>value</code> will be of type
                                <code>Data</code>.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-smi">responseData</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">debugPrint</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>All Response Info:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">response</span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)


                                    <span class="pl-k">if</span>
                                    <span class="pl-k">let</span> data
                                    <span class="pl-k">=</span> response.
                                    <span class="pl-smi">result</span>.
                                    <span class="pl-c1">value</span>,
                                    <span class="pl-k">let</span> utf8Text
                                    <span class="pl-k">=</span>
                                    <span class="pl-c1">String</span>(
                                    <span class="pl-c1">data</span>: data,
                                    <span class="pl-c1">encoding</span>: .
                                    <span class="pl-c1">utf8</span>) {

                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Data:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">utf8Text</span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    }
}
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-response-string-handler" class="anchor" href="#response-string-handler" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Response String Handler
                            </h4>
                            <p>The
                                <code>responseString</code> handler uses the
                                <code>responseStringSerializer</code> to convert the
                                <code>Data</code> returned by the server into a
                                <code>String</code> with the specified encoding. If no errors occur and the server data is successfully serialized into a
                                <code>String</code>, the response
                                <code>Result</code> will be a
                                <code>.success</code> and the
                                <code>value</code> will be of type
                                <code>String</code>.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-smi">responseString</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Success:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">response.
                                            <span class="pl-smi">result</span>.
                                            <span class="pl-smi">isSuccess</span>
                                        </span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)

                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Response String:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">response.
                                            <span class="pl-smi">result</span>.
                                            <span class="pl-c1">value</span>
                                        </span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
}
                                </pre>
                            </div>
                            <blockquote>
                                <p>If no encoding is specified, Alamofire will use the text encoding specified in the
                                    <code>HTTPURLResponse</code> from the server. If the text encoding cannot be determined by the server response, it defaults to
                                    <code>.isoLatin1</code>.
                                </p>
                            </blockquote>
                            <h4>
                                <a id="user-content-response-json-handler" class="anchor" href="#response-json-handler" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Response JSON Handler
                            </h4>
                            <p>The
                                <code>responseJSON</code> handler uses the
                                <code>responseJSONSerializer</code> to convert the
                                <code>Data</code> returned by the server into an
                                <code>Any</code> type using the specified
                                <code>JSONSerialization.ReadingOptions</code>. If no errors occur and the server data is successfully serialized into a JSON object, the response
                                <code>Result</code> will be a
                                <code>.success</code> and the
                                <code>value</code> will be of type
                                <code>Any</code>.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">debugPrint</span>(response)


                                    <span class="pl-k">if</span>
                                    <span class="pl-k">let</span> json
                                    <span class="pl-k">=</span> response.
                                    <span class="pl-smi">result</span>.
                                    <span class="pl-c1">value</span> {

                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>JSON:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">json</span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    }
}
                                </pre>
                            </div>
                            <blockquote>
                                <p>All JSON serialization is handled by the
                                    <code>JSONSerialization</code> API in the
                                    <code>Foundation</code> framework.
                                </p>
                            </blockquote>
                            <h4>
                                <a id="user-content-chained-response-handlers" class="anchor" href="#chained-response-handlers" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Chained Response Handlers
                            </h4>
                            <p>Response handlers can even be chained:</p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>)
    .
                                    <span class="pl-smi">responseString</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Response String:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">response.
                                            <span class="pl-smi">result</span>.
                                            <span class="pl-c1">value</span>
                                        </span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    }
    .
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Response JSON:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">response.
                                            <span class="pl-smi">result</span>.
                                            <span class="pl-c1">value</span>
                                        </span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    }
                                </pre>
                            </div>
                            <blockquote>
                                <p>It is important to note that using multiple response handlers on the same
                                    <code>Request</code> requires the server data to be serialized multiple times. Once for each response handler.
                                </p>
                            </blockquote>
                            <h4>
                                <a id="user-content-response-handler-queue" class="anchor" href="#response-handler-queue" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Response Handler Queue
                            </h4>
                            <p>Response handlers by default are executed on the main dispatch queue. However, a custom dispatch queue can be provided instead.</p>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> utilityQueue
                                    <span class="pl-k">=</span> DispatchQueue.
                                    <span class="pl-c1">global</span>(
                                    <span class="pl-c1">qos</span>: .
                                    <span class="pl-smi">utility</span>)

Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-c1">responseJSON</span>(
                                    <span class="pl-c1">queue</span>: utilityQueue) { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Executing response handler on utility queue
                                        <span class="pl-pds">"</span>
                                    </span>)
}
                                </pre>
                            </div>
                            <h3>
                                <a id="user-content-response-validation" class="anchor" href="#response-validation" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Response Validation
                            </h3>
                            <p>By default, Alamofire treats any completed request to be successful, regardless of the content of the response. Calling
                                <code>validate</code> before a response handler causes an error to be generated if the response had an unacceptable status code or MIME type.
                            </p>
                            <h4>
                                <a id="user-content-manual-validation" class="anchor" href="#manual-validation" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Manual Validation
                            </h4>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>)
    .
                                    <span class="pl-c1">validate</span>(
                                    <span class="pl-c1">statusCode</span>:
                                    <span class="pl-c1">200</span>
                                    <span class="pl-k">..&lt;</span>
                                    <span class="pl-c1">300</span>)
    .
                                    <span class="pl-c1">validate</span>(
                                    <span class="pl-c1">contentType</span>: [
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>application/json
                                        <span class="pl-pds">"</span>
                                    </span>])
    .
                                    <span class="pl-smi">responseData</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-k">switch</span> response.
                                    <span class="pl-smi">result</span> {

                                    <span class="pl-k">case</span> .
                                    <span class="pl-smi">success</span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Validation Successful
                                        <span class="pl-pds">"</span>
                                    </span>)

                                    <span class="pl-k">case</span> .
                                    <span class="pl-c1">failure</span>(
                                    <span class="pl-k">let</span> error)
                                    <span class="pl-k">:</span>
                                    <span class="pl-c1">print</span>(error)
        }
    }
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-automatic-validation" class="anchor" href="#automatic-validation" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Automatic Validation
                            </h4>
                            <p>Automatically validates status code within
                                <code>200...299</code> range, and that the
                                <code>Content-Type</code> header of the response matches the
                                <code>Accept</code> header of the request, if one is provided.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-c1">validate</span>().
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-k">switch</span> response.
                                    <span class="pl-smi">result</span> {

                                    <span class="pl-k">case</span> .
                                    <span class="pl-smi">success</span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Validation Successful
                                        <span class="pl-pds">"</span>
                                    </span>)

                                    <span class="pl-k">case</span> .
                                    <span class="pl-c1">failure</span>(
                                    <span class="pl-k">let</span> error)
                                    <span class="pl-k">:</span>
                                    <span class="pl-c1">print</span>(error)
    }
}
                                </pre>
                            </div>
                            <h3>
                                <a id="user-content-response-caching" class="anchor" href="#response-caching" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Response Caching
                            </h3>
                            <p>Response Caching is handled on the system framework level by
                                <a href="https://developer.apple.com/reference/foundation/urlcache">
                                    <code>URLCache</code>
                                </a>. It provides a composite in-memory and on-disk cache and lets you manipulate the sizes of both the in-memory and on-disk portions.
                            </p>
                            <blockquote>
                                <p>By default, Alamofire leverages the shared
                                    <code>URLCache</code>. In order to customize it, see the
                                    <a href="#session-manager">Session Manager Configurations</a> section.
                                </p>
                            </blockquote>
                            <h3>
                                <a id="user-content-http-methods" class="anchor" href="#http-methods" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>HTTP Methods
                            </h3>
                            <p>The
                                <code>HTTPMethod</code> enumeration lists the HTTP methods defined in
                                <a href="http://tools.ietf.org/html/rfc7231#section-4.3">RFC 7231 §4.3</a>:
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">public</span>
                                    <span class="pl-k">enum</span>
                                    <span class="pl-en">HTTPMethod</span>:
                                    <span class="pl-e">
                                        <span class="pl-c1">String</span>
                                    </span>{

                                    <span class="pl-k">case</span>
                                    <span class="pl-c1">options</span>
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>OPTIONS
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">case</span>
                                    <span class="pl-c1">get</span>
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>GET
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">case</span>
                                    <span class="pl-c1">head</span>
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>HEAD
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">case</span>
                                    <span class="pl-c1">post</span>
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>POST
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">case</span>
                                    <span class="pl-c1">put</span>
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>PUT
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">case</span>
                                    <span class="pl-c1">patch</span>
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>PATCH
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">case</span>
                                    <span class="pl-c1">delete</span>
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>DELETE
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">case</span>
                                    <span class="pl-c1">trace</span>
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>TRACE
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">case</span>
                                    <span class="pl-c1">connect</span>
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>CONNECT
                                        <span class="pl-pds">"</span>
                                    </span>
}
                                </pre>
                            </div>
                            <p>These values can be passed as the
                                <code>method</code> argument to the
                                <code>Alamofire.request</code> API:
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>)
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> method defaults to `.get`
                                    </span>
                                    <span class="pl-c"></span>
Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/post
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">method</span>: .
                                    <span class="pl-smi">post</span>)
Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/put
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">method</span>: .
                                    <span class="pl-smi">put</span>)
Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/delete
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">method</span>: .
                                    <span class="pl-smi">delete</span>)
                                </pre>
                            </div>
                            <blockquote>
                                <p>The
                                    <code>Alamofire.request</code> method parameter defaults to
                                    <code>.get</code>.
                                </p>
                            </blockquote>
                            <h3>
                                <a id="user-content-parameter-encoding" class="anchor" href="#parameter-encoding" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Parameter Encoding
                            </h3>
                            <p>Alamofire supports three types of parameter encoding including:
                                <code>URL</code>,
                                <code>JSON</code> and
                                <code>PropertyList</code>. It can also support any custom encoding that conforms to the
                                <code>ParameterEncoding</code> protocol.
                            </p>
                            <h4>
                                <a id="user-content-url-encoding" class="anchor" href="#url-encoding" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>URL Encoding
                            </h4>
                            <p>The
                                <code>URLEncoding</code> type creates a url-encoded query string to be set as or appended to any existing URL query string or set as the HTTP body of the URL request. Whether the query string is set or appended to any existing URL query string or set as the HTTP body depends on the
                                <code>Destination</code> of the encoding. The
                                <code>Destination</code> enumeration has three cases:
                            </p>
                            <ul>
                                <li>
                                    <code>.methodDependent</code> - Applies encoded query string result to existing query string for
                                    <code>GET</code>,
                                    <code>HEAD</code> and
                                    <code>DELETE</code> requests and sets as the HTTP body for requests with any other HTTP method.
                                </li>
                                <li>
                                    <code>.queryString</code> - Sets or appends encoded query string result to existing query string.
                                </li>
                                <li>
                                    <code>.httpBody</code> - Sets encoded query string result as the HTTP body of the URL request.
                                </li>
                            </ul>
                            <p>The
                                <code>Content-Type</code> HTTP header field of an encoded request with HTTP body is set to
                                <code>application/x-www-form-urlencoded; charset=utf-8</code>. Since there is no published specification for how to encode collection types, the convention of appending
                                <code>[]</code> to the key for array values (
                                <code>foo[]=1&amp;foo[]=2</code>), and appending the key surrounded by square brackets for nested dictionary values (
                                <code>foo[bar]=baz</code>).
                            </p>
                            <h5>
                                <a id="user-content-get-request-with-url-encoded-parameters" class="anchor" href="#get-request-with-url-encoded-parameters" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>GET Request With URL-Encoded Parameters
                            </h5>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> parameters
                                    <span class="pl-k">:</span> Parameters
                                    <span class="pl-k">=</span> [
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>foo
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>bar
                                        <span class="pl-pds">"</span>
                                    </span>]


                                    <span class="pl-c">
                                        <span class="pl-c">//</span> All three of these calls are equivalent
                                    </span>
                                    <span class="pl-c"></span>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">parameters</span>: parameters)
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> encoding defaults to `URLEncoding.default`
                                    </span>
                                    <span class="pl-c"></span>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">parameters</span>: parameters,
                                    <span class="pl-c1">encoding</span>: URLEncoding.
                                    <span class="pl-smi">default</span>)
Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">parameters</span>: parameters,
                                    <span class="pl-c1">encoding</span>:
                                    <span class="pl-c1">URLEncoding</span>(
                                    <span class="pl-c1">destination</span>: .
                                    <span class="pl-smi">methodDependent</span>))


                                    <span class="pl-c">
                                        <span class="pl-c">//</span> https://httpbin.org/get?foo=bar
                                    </span>
                                </pre>
                            </div>
                            <h5>
                                <a id="user-content-post-request-with-url-encoded-parameters" class="anchor" href="#post-request-with-url-encoded-parameters" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>POST Request With URL-Encoded Parameters
                            </h5>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> parameters
                                    <span class="pl-k">:</span> Parameters
                                    <span class="pl-k">=</span> [

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>foo
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>bar
                                        <span class="pl-pds">"</span>
                                    </span>,

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>baz
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span> [
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>a
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">1</span>],

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>qux
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span> [

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>x
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-c1">1</span>,

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>y
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-c1">2</span>,

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>z
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-c1">3</span>
    ]
]


                                    <span class="pl-c">
                                        <span class="pl-c">//</span> All three of these calls are equivalent
                                    </span>
                                    <span class="pl-c"></span>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/post
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">method</span>: .
                                    <span class="pl-smi">post</span>,
                                    <span class="pl-c1">parameters</span>: parameters)
Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/post
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">method</span>: .
                                    <span class="pl-smi">post</span>,
                                    <span class="pl-c1">parameters</span>: parameters,
                                    <span class="pl-c1">encoding</span>: URLEncoding.
                                    <span class="pl-smi">default</span>)
Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/post
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">method</span>: .
                                    <span class="pl-smi">post</span>,
                                    <span class="pl-c1">parameters</span>: parameters,
                                    <span class="pl-c1">encoding</span>: URLEncoding.
                                    <span class="pl-smi">httpBody</span>)


                                    <span class="pl-c">
                                        <span class="pl-c">//</span> HTTP body: foo=bar&amp;baz[]=a&amp;baz[]=1&amp;qux[x]=1&amp;qux[y]=2&amp;qux[z]=3
                                    </span>
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-json-encoding" class="anchor" href="#json-encoding" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>JSON Encoding
                            </h4>
                            <p>The
                                <code>JSONEncoding</code> type creates a JSON representation of the parameters object, which is set as the HTTP body of the request. The
                                <code>Content-Type</code> HTTP header field of an encoded request is set to
                                <code>application/json</code>.
                            </p>
                            <h5>
                                <a id="user-content-post-request-with-json-encoded-parameters" class="anchor" href="#post-request-with-json-encoded-parameters" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>POST Request with JSON-Encoded Parameters
                            </h5>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> parameters
                                    <span class="pl-k">:</span> Parameters
                                    <span class="pl-k">=</span> [

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>foo
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span> [
                                    <span class="pl-c1">1</span>,
                                    <span class="pl-c1">2</span>,
                                    <span class="pl-c1">3</span>],

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>bar
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span> [

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>baz
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>qux
                                        <span class="pl-pds">"</span>
                                    </span>
    ]
]


                                    <span class="pl-c">
                                        <span class="pl-c">//</span> Both calls are equivalent
                                    </span>
                                    <span class="pl-c"></span>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/post
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">method</span>: .
                                    <span class="pl-smi">post</span>,
                                    <span class="pl-c1">parameters</span>: parameters,
                                    <span class="pl-c1">encoding</span>: JSONEncoding.
                                    <span class="pl-smi">default</span>)
Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/post
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">method</span>: .
                                    <span class="pl-smi">post</span>,
                                    <span class="pl-c1">parameters</span>: parameters,
                                    <span class="pl-c1">encoding</span>:
                                    <span class="pl-c1">JSONEncoding</span>(
                                    <span class="pl-c1">options</span>: []))


                                    <span class="pl-c">
                                        <span class="pl-c">//</span> HTTP body: {"foo": [1, 2, 3], "bar": {"baz": "qux"}}
                                    </span>
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-property-list-encoding" class="anchor" href="#property-list-encoding" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Property List Encoding
                            </h4>
                            <p>The
                                <code>PropertyListEncoding</code> uses
                                <code>PropertyListSerialization</code> to create a plist representation of the parameters object, according to the associated format and write options values, which is set as the body of the request. The
                                <code>Content-Type</code> HTTP header field of an encoded request is set to
                                <code>application/x-plist</code>.
                            </p>
                            <h4>
                                <a id="user-content-custom-encoding" class="anchor" href="#custom-encoding" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Custom Encoding
                            </h4>
                            <p>In the event that the provided
                                <code>ParameterEncoding</code> types do not meet your needs, you can create your own custom encoding. Here’s a quick example of how you could build a custom
                                <code>JSONStringArrayEncoding</code> type to encode a JSON string array onto a
                                <code>Request</code>.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">struct</span>
                                    <span class="pl-en">JSONStringArrayEncoding</span>:
                                    <span class="pl-e">ParameterEncoding </span>{

                                    <span class="pl-k">private</span>
                                    <span class="pl-k">let</span> array
                                    <span class="pl-k">:</span> [
                                    <span class="pl-c1">String</span>]


                                    <span class="pl-k">init</span>(
                                    <span class="pl-smi">
                                        <span class="pl-en">array</span>
                                    </span>: [
                                    <span class="pl-c1">String</span>]) {

                                    <span class="pl-c1">self</span>.
                                    <span class="pl-c1">array</span>
                                    <span class="pl-k">=</span> array
    }


                                    <span class="pl-k">func</span>
                                    <span class="pl-en">encode</span>(
                                    <span class="pl-en">_</span>
                                    <span class="pl-smi">urlRequest</span>: URLRequestConvertible,
                                    <span class="pl-en">with</span>
                                    <span class="pl-smi">parameters</span>: Parameters
                                    <span class="pl-k">?</span>)
                                    <span class="pl-k">throws</span>
                                    <span class="pl-k">-&gt;</span> URLRequest {

                                    <span class="pl-k">var</span> urlRequest
                                    <span class="pl-k">=</span> urlRequest.
                                    <span class="pl-smi">urlRequest</span>
                                    <span class="pl-k">let</span> data
                                    <span class="pl-k">=</span>
                                    <span class="pl-k">try</span> JSONSerialization.
                                    <span class="pl-c1">data</span>(
                                    <span class="pl-c1">withJSONObject</span>: array,
                                    <span class="pl-c1">options</span>: [])


                                    <span class="pl-k">if</span> urlRequest.
                                    <span class="pl-c1">value</span>(
                                    <span class="pl-c1">forHTTPHeaderField</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Content-Type
                                        <span class="pl-pds">"</span>
                                    </span>)
                                    <span class="pl-k">==</span>
                                    <span class="pl-c1">nil</span> {
            urlRequest.
                                    <span class="pl-c1">setValue</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>application/json
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">forHTTPHeaderField</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Content-Type
                                        <span class="pl-pds">"</span>
                                    </span>)
        }

        urlRequest.
                                    <span class="pl-smi">httpBody</span>
                                    <span class="pl-k">=</span> data


                                    <span class="pl-k">return</span> urlRequest
    }
}
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-manual-parameter-encoding-of-a-urlrequest" class="anchor" href="#manual-parameter-encoding-of-a-urlrequest" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Manual Parameter Encoding of a URLRequest
                            </h4>
                            <p>The
                                <code>ParameterEncoding</code> APIs can be used outside of making network requests.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> url
                                    <span class="pl-k">=</span>
                                    <span class="pl-c1">URL</span>(
                                    <span class="pl-c1">string</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>)
                                    <span class="pl-k">!</span>
                                    <span class="pl-k">var</span> urlRequest
                                    <span class="pl-k">=</span>
                                    <span class="pl-c1">URLRequest</span>(
                                    <span class="pl-c1">url</span>: url)


                                    <span class="pl-k">let</span> parameters
                                    <span class="pl-k">:</span> Parameters
                                    <span class="pl-k">=</span> [
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>foo
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>bar
                                        <span class="pl-pds">"</span>
                                    </span>]

                                    <span class="pl-k">let</span> encodedURLRequest
                                    <span class="pl-k">=</span>
                                    <span class="pl-k">try</span> URLEncoding.
                                    <span class="pl-smi">queryString</span>.
                                    <span class="pl-c1">encode</span>(urlRequest,
                                    <span class="pl-c1">with</span>: parameters)
                                </pre>
                            </div>
                            <h3>
                                <a id="user-content-http-headers" class="anchor" href="#http-headers" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>HTTP Headers
                            </h3>
                            <p>Adding a custom HTTP header to a
                                <code>Request</code> is supported directly in the global
                                <code>request</code> method. This makes it easy to attach HTTP headers to a
                                <code>Request</code> that can be constantly changing.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> headers
                                    <span class="pl-k">:</span> HTTPHeaders
                                    <span class="pl-k">=</span> [

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Authorization
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==
                                        <span class="pl-pds">"</span>
                                    </span>,

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Accept
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>application/json
                                        <span class="pl-pds">"</span>
                                    </span>
]

Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/headers
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">headers</span>: headers).
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">debugPrint</span>(response)
}
                                </pre>
                            </div>
                            <blockquote>
                                <p>For HTTP headers that do not change, it is recommended to set them on the
                                    <code>URLSessionConfiguration</code> so they are automatically applied to any
                                    <code>URLSessionTask</code> created by the underlying
                                    <code>URLSession</code>. For more information, see the
                                    <a href="#session-manager">Session Manager Configurations</a> section.
                                </p>
                            </blockquote>
                            <p>The default Alamofire
                                <code>SessionManager</code> provides a default set of headers for every
                                <code>Request</code>. These include:
                            </p>
                            <ul>
                                <li>
                                    <code>Accept-Encoding</code>, which defaults to
                                    <code>gzip;q=1.0, compress;q=0.5</code>, per
                                    <a href="https://tools.ietf.org/html/rfc7230#section-4.2.3">RFC 7230 §4.2.3</a>.
                                </li>
                                <li>
                                    <code>Accept-Language</code>, which defaults to up to the top 6 preferred languages on the system, formatted like
                                    <code>en;q=1.0</code>, per
                                    <a href="https://tools.ietf.org/html/rfc7231#section-5.3.5">RFC 7231 §5.3.5</a>.
                                </li>
                                <li>
                                    <code>User-Agent</code>, which contains versioning information about the current app. For example:
                                    <code>iOS Example/1.0 (com.alamofire.iOS-Example; build:1; iOS 10.0.0) Alamofire/4.0.0</code>, per
                                    <a href="https://tools.ietf.org/html/rfc7231#section-5.5.3">RFC 7231 §5.5.3</a>.
                                </li>
                            </ul>
                            <p>If you need to customize these headers, a custom
                                <code>URLSessionConfiguration</code> should be created, the
                                <code>defaultHTTPHeaders</code> property updated and the configuration applied to a new
                                <code>SessionManager</code> instance.
                            </p>
                            <h3>
                                <a id="user-content-authentication" class="anchor" href="#authentication" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Authentication
                            </h3>
                            <p>Authentication is handled on the system framework level by
                                <a href="https://developer.apple.com/reference/foundation/nsurlcredential">
                                    <code>URLCredential</code>
                                </a> and
                                <a href="https://developer.apple.com/reference/foundation/urlauthenticationchallenge">
                                    <code>URLAuthenticationChallenge</code>
                                </a>.
                            </p>
                            <p>
                                <strong>Supported Authentication Schemes</strong>
                            </p>
                            <ul>
                                <li>
                                    <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic</a>
                                </li>
                                <li>
                                    <a href="http://en.wikipedia.org/wiki/Digest_access_authentication">HTTP Digest</a>
                                </li>
                                <li>
                                    <a href="http://en.wikipedia.org/wiki/Kerberos_%28protocol%29">Kerberos</a>
                                </li>
                                <li>
                                    <a href="http://en.wikipedia.org/wiki/NT_LAN_Manager">NTLM</a>
                                </li>
                            </ul>
                            <h4>
                                <a id="user-content-http-basic-authentication" class="anchor" href="#http-basic-authentication" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>HTTP Basic Authentication
                            </h4>
                            <p>The
                                <code>authenticate</code> method on a
                                <code>Request</code> will automatically provide a
                                <code>URLCredential</code> to a
                                <code>URLAuthenticationChallenge</code> when appropriate:
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> user
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>user
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">let</span> password
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>password
                                        <span class="pl-pds">"</span>
                                    </span>

Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/basic-auth/
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">user</span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>/
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">password</span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    .
                                    <span class="pl-c1">authenticate</span>(
                                    <span class="pl-c1">user</span>: user,
                                    <span class="pl-c1">password</span>: password)
    .
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">debugPrint</span>(response)
    }
                                </pre>
                            </div>
                            <p>Depending upon your server implementation, an
                                <code>Authorization</code> header may also be appropriate:
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> user
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>user
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">let</span> password
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>password
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">var</span> headers
                                    <span class="pl-k">:</span> HTTPHeaders
                                    <span class="pl-k">=</span> [
                                    <span class="pl-k">:</span>]


                                    <span class="pl-k">if</span>
                                    <span class="pl-k">let</span> authorizationHeader
                                    <span class="pl-k">=</span> Request.
                                    <span class="pl-c1">authorizationHeader</span>(
                                    <span class="pl-c1">user</span>: user,
                                    <span class="pl-c1">password</span>: password) {
    headers[authorizationHeader.
                                    <span class="pl-smi">key</span>]
                                    <span class="pl-k">=</span> authorizationHeader.
                                    <span class="pl-c1">value</span>
}

Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/basic-auth/user/password
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">headers</span>: headers)
    .
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">debugPrint</span>(response)
    }
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-authentication-with-urlcredential" class="anchor" href="#authentication-with-urlcredential" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Authentication with URLCredential
                            </h4>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> user
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>user
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">let</span> password
                                    <span class="pl-k">=</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>password
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">let</span> credential
                                    <span class="pl-k">=</span>
                                    <span class="pl-c1">URLCredential</span>(
                                    <span class="pl-c1">user</span>: user,
                                    <span class="pl-c1">password</span>: password,
                                    <span class="pl-c1">persistence</span>: .
                                    <span class="pl-smi">forSession</span>)

Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/basic-auth/
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">user</span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>/
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">password</span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    .
                                    <span class="pl-c1">authenticate</span>(
                                    <span class="pl-c1">usingCredential</span>: credential)
    .
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">debugPrint</span>(response)
    }
                                </pre>
                            </div>
                            <blockquote>
                                <p>It is important to note that when using a
                                    <code>URLCredential</code> for authentication, the underlying
                                    <code>URLSession</code> will actually end up making two requests if a challenge is issued by the server. The first request will not include the credential which “may” trigger a challenge from the server. The challenge is then received by Alamofire, the credential is appended and the request is retried by the underlying
                                    <code>URLSession</code>.
                                </p>
                            </blockquote>
                            <h3>
                                <a id="user-content-downloading-data-to-a-file" class="anchor" href="#downloading-data-to-a-file" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Downloading Data to a File
                            </h3>
                            <p>Requests made in Alamofire that fetch data from a server can download the data in-memory or on-disk. The
                                <code>Alamofire.request</code> APIs used in all the examples so far always downloads the server data in-memory. This is great for smaller payloads because it’s more efficient, but really bad for larger payloads because the download could run your entire application out-of-memory. Because of this, you can also use the
                                <code>Alamofire.download</code> APIs to download the server data to a temporary file on-disk.
                            </p>
                            <blockquote>
                                <p>This will only work on
                                    <code>macOS</code> as is. Other platforms don’t allow access to the filesystem outside of your app’s sandbox. To download files on other platforms, see the
                                    <a href="#download-file-destination">Download File Destination</a> section.
                                </p>
                            </blockquote>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">download</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/image/png
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-smi">responseData</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-k">if</span>
                                    <span class="pl-k">let</span> data
                                    <span class="pl-k">=</span> response.
                                    <span class="pl-smi">result</span>.
                                    <span class="pl-c1">value</span> {

                                    <span class="pl-k">let</span> image
                                    <span class="pl-k">=</span>
                                    <span class="pl-c1">UIImage</span>(
                                    <span class="pl-c1">data</span>: data)
    }
}
                                </pre>
                            </div>
                            <blockquote>
                                <p>The
                                    <code>Alamofire.download</code> APIs should also be used if you need to download data while your app is in the background. For more information, please see the
                                    <a href="#session-manager">Session Manager Configurations</a> section.
                                </p>
                            </blockquote>
                            <h4>
                                <a id="user-content-download-file-destination" class="anchor" href="#download-file-destination" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Download File Destination
                            </h4>
                            <p>You can also provide a
                                <code>DownloadFileDestination</code> closure to move the file from the temporary directory to a final destination. Before the temporary file is actually moved to the
                                <code>destinationURL</code>, the
                                <code>DownloadOptions</code> specified in the closure will be executed. The two currently supported
                                <code>DownloadOptions</code> are:
                            </p>
                            <ul>
                                <li>
                                    <code>.createIntermediateDirectories</code> - Creates intermediate directories for the destination URL if specified.
                                </li>
                                <li>
                                    <code>.removePreviousFile</code> - Removes a previous file from the destination URL if specified.
                                </li>
                            </ul>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> destination
                                    <span class="pl-k">:</span> DownloadRequest.
                                    <span class="pl-smi">DownloadFileDestination</span>
                                    <span class="pl-k">=</span> {
                                    <span class="pl-c1">_</span>,
                                    <span class="pl-c1">_</span>
                                    <span class="pl-k">in</span>
                                    <span class="pl-k">let</span> documentsURL
                                    <span class="pl-k">=</span> FileManager.
                                    <span class="pl-smi">default</span>.
                                    <span class="pl-c1">urls</span>(
                                    <span class="pl-c1">for</span>: .
                                    <span class="pl-smi">documentDirectory</span>,
                                    <span class="pl-c1">in</span>: .
                                    <span class="pl-smi">userDomainMask</span>)[
                                    <span class="pl-c1">0</span>]

                                    <span class="pl-k">let</span> fileURL
                                    <span class="pl-k">=</span> documentsURL.
                                    <span class="pl-c1">appendPathComponent</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>pig.png
                                        <span class="pl-pds">"</span>
                                    </span>)


                                    <span class="pl-k">return</span> (fileURL, [.
                                    <span class="pl-smi">removePreviousFile</span>, .
                                    <span class="pl-smi">createIntermediateDirectories</span>])
}

Alamofire.
                                    <span class="pl-c1">download</span>(urlString,
                                    <span class="pl-c1">to</span>: destination).
                                    <span class="pl-smi">response</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">print</span>(response)


                                    <span class="pl-k">if</span> response.
                                    <span class="pl-c1">error</span>
                                    <span class="pl-k">==</span>
                                    <span class="pl-c1">nil</span>,
                                    <span class="pl-k">let</span> imagePath
                                    <span class="pl-k">=</span> response.
                                    <span class="pl-smi">destinationURL</span>
                                    <span class="pl-k">?</span>.
                                    <span class="pl-smi">path</span> {

                                    <span class="pl-k">let</span> image
                                    <span class="pl-k">=</span>
                                    <span class="pl-c1">UIImage</span>(
                                    <span class="pl-c1">contentsOfFile</span>: imagePath)
    }
}
                                </pre>
                            </div>
                            <p>You can also use the suggested download destination API.</p>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> destination
                                    <span class="pl-k">=</span> DownloadRequest.
                                    <span class="pl-c1">suggestedDownloadDestination</span>(
                                    <span class="pl-c1">directory</span>: .
                                    <span class="pl-smi">documentDirectory</span>)
Alamofire.
                                    <span class="pl-c1">download</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/image/png
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">to</span>: destination)
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-download-progress" class="anchor" href="#download-progress" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Download Progress
                            </h4>
                            <p>Many times it can be helpful to report download progress to the user. Any
                                <code>DownloadRequest</code> can report download progress using the
                                <code>downloadProgress</code> API.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">download</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/image/png
                                        <span class="pl-pds">"</span>
                                    </span>)
    .
                                    <span class="pl-smi">downloadProgress</span> { progress
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Download Progress:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">progress.
                                            <span class="pl-smi">fractionCompleted</span>
                                        </span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    }
    .
                                    <span class="pl-smi">responseData</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-k">if</span>
                                    <span class="pl-k">let</span> data
                                    <span class="pl-k">=</span> response.
                                    <span class="pl-smi">result</span>.
                                    <span class="pl-c1">value</span> {

                                    <span class="pl-k">let</span> image
                                    <span class="pl-k">=</span>
                                    <span class="pl-c1">UIImage</span>(
                                    <span class="pl-c1">data</span>: data)
        }
    }
                                </pre>
                            </div>
                            <p>The
                                <code>downloadProgress</code> API also takes a
                                <code>queue</code> parameter which defines which
                                <code>DispatchQueue</code> the download progress closure should be called on.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> utilityQueue
                                    <span class="pl-k">=</span> DispatchQueue.
                                    <span class="pl-c1">global</span>(
                                    <span class="pl-c1">qos</span>: .
                                    <span class="pl-smi">utility</span>)

Alamofire.
                                    <span class="pl-c1">download</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/image/png
                                        <span class="pl-pds">"</span>
                                    </span>)
    .
                                    <span class="pl-c1">downloadProgress</span>(
                                    <span class="pl-c1">queue</span>: utilityQueue) { progress
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Download Progress:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">progress.
                                            <span class="pl-smi">fractionCompleted</span>
                                        </span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    }
    .
                                    <span class="pl-smi">responseData</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-k">if</span>
                                    <span class="pl-k">let</span> data
                                    <span class="pl-k">=</span> response.
                                    <span class="pl-smi">result</span>.
                                    <span class="pl-c1">value</span> {

                                    <span class="pl-k">let</span> image
                                    <span class="pl-k">=</span>
                                    <span class="pl-c1">UIImage</span>(
                                    <span class="pl-c1">data</span>: data)
        }
    }
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-resuming-a-download" class="anchor" href="#resuming-a-download" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Resuming a Download
                            </h4>
                            <p>If a
                                <code>DownloadRequest</code> is cancelled or interrupted, the underlying URL session may generate resume data for the active
                                <code>DownloadRequest</code>. If this happens, the resume data can be re-used to restart the
                                <code>DownloadRequest</code> where it left off. The resume data can be accessed through the download response, then reused when trying to restart the request.
                            </p>
                            <blockquote>
                                <p>
                                    <strong>IMPORTANT:</strong> On the latest release of all the Apple platforms (iOS 10, macOS 10.12, tvOS 10, watchOS 3),
                                    <code>resumeData</code> is broken on background URL session configurations. There’s an underlying bug in the
                                    <code>resumeData</code> generation logic where the data is written incorrectly and will always fail to resume the download. For more information about the bug and possible workarounds, please see this Stack Overflow
                                    <a href="http://stackoverflow.com/a/39347461/1342462">post</a>.
                                </p>
                            </blockquote>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">class</span>
                                    <span class="pl-en">ImageRequestor</span> {

                                    <span class="pl-k">private</span>
                                    <span class="pl-k">var</span> resumeData
                                    <span class="pl-k">:</span> Data
                                    <span class="pl-k">?</span>
                                    <span class="pl-k">private</span>
                                    <span class="pl-k">var</span> image
                                    <span class="pl-k">:</span> UIImage
                                    <span class="pl-k">?</span>
                                    <span class="pl-k">func</span>
                                    <span class="pl-en">fetchImage</span>(
                                    <span class="pl-smi">
                                        <span class="pl-en">completion</span>
                                    </span>: (UIImage
                                    <span class="pl-k">?</span>)
                                    <span class="pl-k">-&gt;</span>
                                    <span class="pl-c1">Void</span>) {

                                    <span class="pl-k">guard</span> image
                                    <span class="pl-k">==</span>
                                    <span class="pl-c1">nil</span>
                                    <span class="pl-k">else</span> {
                                    <span class="pl-c1">completion</span>(image) ;
                                    <span class="pl-k">return</span> }


                                    <span class="pl-k">let</span> destination
                                    <span class="pl-k">:</span> DownloadRequest.
                                    <span class="pl-smi">DownloadFileDestination</span>
                                    <span class="pl-k">=</span> {
                                    <span class="pl-c1">_</span>,
                                    <span class="pl-c1">_</span>
                                    <span class="pl-k">in</span>
                                    <span class="pl-k">let</span> documentsURL
                                    <span class="pl-k">=</span> FileManager.
                                    <span class="pl-smi">default</span>.
                                    <span class="pl-c1">urls</span>(
                                    <span class="pl-c1">for</span>: .
                                    <span class="pl-smi">documentDirectory</span>,
                                    <span class="pl-c1">in</span>: .
                                    <span class="pl-smi">userDomainMask</span>)[
                                    <span class="pl-c1">0</span>]

                                    <span class="pl-k">let</span> fileURL
                                    <span class="pl-k">=</span> documentsURL.
                                    <span class="pl-c1">appendPathComponent</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>pig.png
                                        <span class="pl-pds">"</span>
                                    </span>)


                                    <span class="pl-k">return</span> (fileURL, [.
                                    <span class="pl-smi">removePreviousFile</span>, .
                                    <span class="pl-smi">createIntermediateDirectories</span>])
        }


                                    <span class="pl-k">let</span> request
                                    <span class="pl-k">:</span> DownloadRequest


                                    <span class="pl-k">if</span>
                                    <span class="pl-k">let</span> resumeData
                                    <span class="pl-k">=</span> resumeData {
            request
                                    <span class="pl-k">=</span> Alamofire.
                                    <span class="pl-c1">download</span>(
                                    <span class="pl-c1">resumingWith</span>: resumeData)
        }
                                    <span class="pl-k">else</span> {
            request
                                    <span class="pl-k">=</span> Alamofire.
                                    <span class="pl-c1">download</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/image/png
                                        <span class="pl-pds">"</span>
                                    </span>)
        }

        request.
                                    <span class="pl-smi">responseData</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-k">switch</span> response.
                                    <span class="pl-smi">result</span> {

                                    <span class="pl-k">case</span> .
                                    <span class="pl-c1">success</span>(
                                    <span class="pl-k">let</span> data)
                                    <span class="pl-k">:</span>
                                    <span class="pl-c1">self</span>.
                                    <span class="pl-c1">image</span>
                                    <span class="pl-k">=</span>
                                    <span class="pl-c1">UIImage</span>(
                                    <span class="pl-c1">data</span>: data)

                                    <span class="pl-k">case</span> .
                                    <span class="pl-smi">failure</span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-c1">self</span>.
                                    <span class="pl-smi">resumeData</span>
                                    <span class="pl-k">=</span> response.
                                    <span class="pl-smi">resumeData</span>
            }
        }
    }
}
                                </pre>
                            </div>
                            <h3>
                                <a id="user-content-uploading-data-to-a-server" class="anchor" href="#uploading-data-to-a-server" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Uploading Data to a Server
                            </h3>
                            <p>When sending relatively small amounts of data to a server using JSON or URL encoded parameters, the
                                <code>Alamofire.request</code> APIs are usually sufficient. If you need to send much larger amounts of data from a file URL or an
                                <code>InputStream</code>, then the
                                <code>Alamofire.upload</code> APIs are what you want to use.
                            </p>
                            <blockquote>
                                <p>The
                                    <code>Alamofire.upload</code> APIs should also be used if you need to upload data while your app is in the background. For more information, please see the
                                    <a href="#session-manager">Session Manager Configurations</a> section.
                                </p>
                            </blockquote>
                            <h4>
                                <a id="user-content-uploading-data" class="anchor" href="#uploading-data" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Uploading Data
                            </h4>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> imageData
                                    <span class="pl-k">=</span>
                                    <span class="pl-c1">UIPNGRepresentation</span>(image)
                                    <span class="pl-k">!</span>

Alamofire.
                                    <span class="pl-c1">upload</span>(imageData,
                                    <span class="pl-c1">to</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/post
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">debugPrint</span>(response)
}
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-uploading-a-file" class="anchor" href="#uploading-a-file" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Uploading a File
                            </h4>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> fileURL
                                    <span class="pl-k">=</span> Bundle.
                                    <span class="pl-smi">main</span>.
                                    <span class="pl-c1">url</span>(
                                    <span class="pl-c1">forResource</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>video
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">withExtension</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>mov
                                        <span class="pl-pds">"</span>
                                    </span>)

Alamofire.
                                    <span class="pl-c1">upload</span>(fileURL,
                                    <span class="pl-c1">to</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/post
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">debugPrint</span>(response)
}
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-uploading-multipart-form-data" class="anchor" href="#uploading-multipart-form-data" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Uploading Multipart Form Data
                            </h4>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">upload</span>(

                                    <span class="pl-c1">multipartFormData</span>: { multipartFormData
                                    <span class="pl-k">in</span>
        multipartFormData.
                                    <span class="pl-c1">append</span>(unicornImageURL,
                                    <span class="pl-c1">withName</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>unicorn
                                        <span class="pl-pds">"</span>
                                    </span>)
        multipartFormData.
                                    <span class="pl-c1">append</span>(rainbowImageURL,
                                    <span class="pl-c1">withName</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>rainbow
                                        <span class="pl-pds">"</span>
                                    </span>)
    },

                                    <span class="pl-c1">to</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/post
                                        <span class="pl-pds">"</span>
                                    </span>,

                                    <span class="pl-c1">encodingCompletion</span>: { encodingResult
                                    <span class="pl-k">in</span>
                                    <span class="pl-k">switch</span> encodingResult {

                                    <span class="pl-k">case</span> .
                                    <span class="pl-c1">success</span>(
                                    <span class="pl-k">let</span> upload,
                                    <span class="pl-c1">_</span>,
                                    <span class="pl-c1">_</span>)
                                    <span class="pl-k">:</span>
            upload.
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">debugPrint</span>(response)
            }

                                    <span class="pl-k">case</span> .
                                    <span class="pl-c1">failure</span>(
                                    <span class="pl-k">let</span> encodingError)
                                    <span class="pl-k">:</span>
                                    <span class="pl-c1">print</span>(encodingError)
        }
    }
)
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-upload-progress" class="anchor" href="#upload-progress" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Upload Progress
                            </h4>
                            <p>While your user is waiting for their upload to complete, sometimes it can be handy to show the progress of the upload to the user. Any
                                <code>UploadRequest</code> can report both upload progress and download progress of the response data using the
                                <code>uploadProgress</code> and
                                <code>downloadProgress</code> APIs.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> fileURL
                                    <span class="pl-k">=</span> Bundle.
                                    <span class="pl-smi">main</span>.
                                    <span class="pl-c1">url</span>(
                                    <span class="pl-c1">forResource</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>video
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">withExtension</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>mov
                                        <span class="pl-pds">"</span>
                                    </span>)

Alamofire.
                                    <span class="pl-c1">upload</span>(fileURL,
                                    <span class="pl-c1">to</span>:
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/post
                                        <span class="pl-pds">"</span>
                                    </span>)
    .
                                    <span class="pl-smi">uploadProgress</span> { progress
                                    <span class="pl-k">in</span>
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> main queue by default
                                    </span>
                                    <span class="pl-c"></span>
                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Upload Progress:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">progress.
                                            <span class="pl-smi">fractionCompleted</span>
                                        </span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    }
    .
                                    <span class="pl-smi">downloadProgress</span> { progress
                                    <span class="pl-k">in</span>
                                    <span class="pl-c">
                                        <span class="pl-c">//</span> main queue by default
                                    </span>
                                    <span class="pl-c"></span>
                                    <span class="pl-c1">print</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Download Progress:
                                        <span class="pl-pse">\(</span>
                                        <span class="pl-s1">progress.
                                            <span class="pl-smi">fractionCompleted</span>
                                        </span>
                                        <span class="pl-pse">
                                            <span class="pl-s1">)</span>
                                        </span>
                                        <span class="pl-pds">"</span>
                                    </span>)
    }
    .
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">debugPrint</span>(response)
    }
                                </pre>
                            </div>
                            <h3>
                                <a id="user-content-statistical-metrics" class="anchor" href="#statistical-metrics" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Statistical Metrics
                            </h3>
                            <h4>
                                <a id="user-content-timeline" class="anchor" href="#timeline" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>Timeline
                            </h4>
                            <p>Alamofire collects timings throughout the lifecycle of a
                                <code>Request</code> and creates a
                                <code>Timeline</code> object exposed as a property on all response types.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">print</span>(response.
                                    <span class="pl-smi">timeline</span>)
}
                                </pre>
                            </div>
                            <p>The above reports the following
                                <code>Timeline</code> info:
                            </p>
                            <ul>
                                <li>
                                    <code>Latency</code>: 0.428 seconds
                                </li>
                                <li>
                                    <code>Request Duration</code>: 0.428 seconds
                                </li>
                                <li>
                                    <code>Serialization Duration</code>: 0.001 seconds
                                </li>
                                <li>
                                    <code>Total Duration</code>: 0.429 seconds
                                </li>
                            </ul>
                            <h4>
                                <a id="user-content-url-session-task-metrics" class="anchor" href="#url-session-task-metrics" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>URL Session Task Metrics
                            </h4>
                            <p>In iOS and tvOS 10 and macOS 10.12, Apple introduced the new
                                <a href="https://developer.apple.com/reference/foundation/urlsessiontaskmetrics">URLSessionTaskMetrics</a> APIs. The task metrics encapsulate some fantastic statistical information about the request and response execution. The API is very similar to the
                                <code>Timeline</code>, but provides many more statistics that Alamofire doesn’t have access to compute. The metrics can be accessed through any response type.
                            </p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-c1">print</span>(response.
                                    <span class="pl-smi">metrics</span>)
}
                                </pre>
                            </div>
                            <p>It’s important to note that these APIs are only available on iOS and tvOS 10 and macOS 10.12. Therefore, depending on your deployment target, you may need to use these inside availability checks:</p>
                            <div class="highlight highlight-source-swift">
                                <pre>Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>).
                                    <span class="pl-smi">responseJSON</span> { response
                                    <span class="pl-k">in</span>
                                    <span class="pl-k">if</span>
                                    <span class="pl-c1">#available</span>(
                                    <span class="pl-k">iOS</span>
                                    <span class="pl-c1">10.0</span>
                                    <span class="pl-ii">.</span>
                                    <span class="pl-k">*</span>) {

                                    <span class="pl-c1">print</span>(response.
                                    <span class="pl-smi">metrics</span>)
    }
}
                                </pre>
                            </div>
                            <h3>
                                <a id="user-content-curl-command-output" class="anchor" href="#curl-command-output" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>cURL Command Output
                            </h3>
                            <p>Debugging platform issues can be frustrating. Thankfully, Alamofire
                                <code>Request</code> objects conform to both the
                                <code>CustomStringConvertible</code> and
                                <code>CustomDebugStringConvertible</code> protocols to provide some VERY helpful debugging tools.
                            </p>
                            <h4>
                                <a id="user-content-customstringconvertible" class="anchor" href="#customstringconvertible" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>CustomStringConvertible
                            </h4>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> request
                                    <span class="pl-k">=</span> Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/ip
                                        <span class="pl-pds">"</span>
                                    </span>)


                                    <span class="pl-c1">print</span>(request)

                                    <span class="pl-c">
                                        <span class="pl-c">//</span> GET https://httpbin.org/ip (200)
                                    </span>
                                </pre>
                            </div>
                            <h4>
                                <a id="user-content-customdebugstringconvertible" class="anchor" href="#customdebugstringconvertible" aria-hidden="true">
                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                </a>CustomDebugStringConvertible
                            </h4>
                            <div class="highlight highlight-source-swift">
                                <pre>
                                    <span class="pl-k">let</span> request
                                    <span class="pl-k">=</span> Alamofire.
                                    <span class="pl-c1">request</span>(
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get
                                        <span class="pl-pds">"</span>
                                    </span>,
                                    <span class="pl-c1">parameters</span>: [
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>foo
                                        <span class="pl-pds">"</span>
                                    </span>
                                    <span class="pl-k">:</span>
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>bar
                                        <span class="pl-pds">"</span>
                                    </span>])

                                    <span class="pl-c1">debugPrint</span>(request)
                                </pre>
                            </div>
                            <p>Outputs:</p>
                            <div class="highlight highlight-source-shell">
                                <pre>$ curl -i \
    -H
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>User-Agent: Alamofire/4.0.0
                                        <span class="pl-pds">"</span>
                                    </span> \
    -H
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Accept-Encoding: gzip;q=1.0, compress;q=0.5
                                        <span class="pl-pds">"</span>
                                    </span> \
    -H
                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>Accept-Language: en;q=1.0,fr;q=0.9,de;q=0.8,zh-Hans;q=0.7,zh-Hant;q=0.6,ja;q=0.5
                                        <span class="pl-pds">"</span>
                                    </span> \

                                    <span class="pl-s">
                                        <span class="pl-pds">"</span>https://httpbin.org/get?foo=bar
                                        <span class="pl-pds">"</span>
                                    </span>
                                </pre>
                            </div>
                            <p></p>
                            <hr>
                                <h2>
                                    <a id="user-content-advanced-usage" class="anchor" href="#advanced-usage" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Advanced Usage
                                </h2>
                                <p>Alamofire is built on
                                    <code>URLSession</code> and the Foundation URL Loading System. To make the most of this framework, it is recommended that you be familiar with the concepts and capabilities of the underlying networking stack.
                                </p>
                                <p>
                                    <strong>Recommended Reading</strong>
                                </p>
                                <ul>
                                    <li>
                                        <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/URLLoadingSystem/URLLoadingSystem.html">URL Loading System Programming Guide</a>
                                    </li>
                                    <li>
                                        <a href="https://developer.apple.com/reference/foundation/nsurlsession">URLSession Class Reference</a>
                                    </li>
                                    <li>
                                        <a href="https://developer.apple.com/reference/foundation/urlcache">URLCache Class Reference</a>
                                    </li>
                                    <li>
                                        <a href="https://developer.apple.com/reference/foundation/urlauthenticationchallenge">URLAuthenticationChallenge Class Reference</a>
                                    </li>
                                </ul>
                                <h3>
                                    <a id="user-content-session-manager" class="anchor" href="#session-manager" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Session Manager
                                </h3>
                                <p>Top-level convenience methods like
                                    <code>Alamofire.request</code> use a default instance of
                                    <code>Alamofire.SessionManager</code>, which is configured with the default
                                    <code>URLSessionConfiguration</code>.
                                </p>
                                <p>As such, the following two statements are equivalent:</p>
                                <div class="highlight highlight-source-swift">
                                    <pre>Alamofire.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://httpbin.org/get
                                            <span class="pl-pds">"</span>
                                        </span>)
                                    </pre>
                                </div>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> sessionManager
                                        <span class="pl-k">=</span> Alamofire.
                                        <span class="pl-smi">SessionManager</span>.
                                        <span class="pl-smi">default</span>
sessionManager.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://httpbin.org/get
                                            <span class="pl-pds">"</span>
                                        </span>)
                                    </pre>
                                </div>
                                <p>Applications can create session managers for background and ephemeral sessions, as well as new managers that customize the default session configuration, such as for default headers (
                                    <code>httpAdditionalHeaders</code>) or timeout interval (
                                    <code>timeoutIntervalForRequest</code>).
                                </p>
                                <h4>
                                    <a id="user-content-creating-a-session-manager-with-default-configuration" class="anchor" href="#creating-a-session-manager-with-default-configuration" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Creating a Session Manager with Default Configuration
                                </h4>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> configuration
                                        <span class="pl-k">=</span> URLSessionConfiguration.
                                        <span class="pl-smi">default</span>
                                        <span class="pl-k">let</span> sessionManager
                                        <span class="pl-k">=</span> Alamofire.
                                        <span class="pl-c1">SessionManager</span>(
                                        <span class="pl-c1">configuration</span>: configuration)
                                    </pre>
                                </div>
                                <h4>
                                    <a id="user-content-creating-a-session-manager-with-background-configuration" class="anchor" href="#creating-a-session-manager-with-background-configuration" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Creating a Session Manager with Background Configuration
                                </h4>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> configuration
                                        <span class="pl-k">=</span> URLSessionConfiguration.
                                        <span class="pl-c1">background</span>(
                                        <span class="pl-c1">withIdentifier</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>com.example.app.background
                                            <span class="pl-pds">"</span>
                                        </span>)

                                        <span class="pl-k">let</span> sessionManager
                                        <span class="pl-k">=</span> Alamofire.
                                        <span class="pl-c1">SessionManager</span>(
                                        <span class="pl-c1">configuration</span>: configuration)
                                    </pre>
                                </div>
                                <h4>
                                    <a id="user-content-creating-a-session-manager-with-ephemeral-configuration" class="anchor" href="#creating-a-session-manager-with-ephemeral-configuration" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Creating a Session Manager with Ephemeral Configuration
                                </h4>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> configuration
                                        <span class="pl-k">=</span> URLSessionConfiguration.
                                        <span class="pl-smi">ephemeral</span>
                                        <span class="pl-k">let</span> sessionManager
                                        <span class="pl-k">=</span> Alamofire.
                                        <span class="pl-c1">SessionManager</span>(
                                        <span class="pl-c1">configuration</span>: configuration)
                                    </pre>
                                </div>
                                <h4>
                                    <a id="user-content-modifying-the-session-configuration" class="anchor" href="#modifying-the-session-configuration" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Modifying the Session Configuration
                                </h4>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">var</span> defaultHeaders
                                        <span class="pl-k">=</span> Alamofire.
                                        <span class="pl-smi">SessionManager</span>.
                                        <span class="pl-smi">defaultHTTPHeaders</span>
defaultHeaders[
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>DNT
                                            <span class="pl-pds">"</span>
                                        </span>]
                                        <span class="pl-k">=</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>1 (Do Not Track Enabled)
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">let</span> configuration
                                        <span class="pl-k">=</span> URLSessionConfiguration.
                                        <span class="pl-smi">default</span>
configuration.
                                        <span class="pl-smi">httpAdditionalHeaders</span>
                                        <span class="pl-k">=</span> defaultHeaders


                                        <span class="pl-k">let</span> sessionManager
                                        <span class="pl-k">=</span> Alamofire.
                                        <span class="pl-c1">SessionManager</span>(
                                        <span class="pl-c1">configuration</span>: configuration)
                                    </pre>
                                </div>
                                <blockquote>
                                    <p>This is
                                        <strong>not</strong> recommended for
                                        <code>Authorization</code> or
                                        <code>Content-Type</code> headers. Instead, use the
                                        <code>headers</code> parameter in the top-level
                                        <code>Alamofire.request</code> APIs,
                                        <code>URLRequestConvertible</code> and
                                        <code>ParameterEncoding</code>, respectively.
                                    </p>
                                </blockquote>
                                <h3>
                                    <a id="user-content-session-delegate" class="anchor" href="#session-delegate" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Session Delegate
                                </h3>
                                <p>By default, an Alamofire
                                    <code>SessionManager</code> instance creates a
                                    <code>SessionDelegate</code> object to handle all the various types of delegate callbacks that are generated by the underlying
                                    <code>URLSession</code>. The implementations of each delegate method handle the most common use cases for these types of calls abstracting the complexity away from the top-level APIs. However, advanced users may find the need to override the default functionality for various reasons.
                                </p>
                                <h4>
                                    <a id="user-content-override-closures" class="anchor" href="#override-closures" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Override Closures
                                </h4>
                                <p>The first way to customize the
                                    <code>SessionDelegate</code> behavior is through the use of the override closures. Each closure gives you the ability to override the implementation of the matching
                                    <code>SessionDelegate</code> API, yet still use the default implementation for all other APIs. This makes it easy to customize subsets of the delegate functionality. Here are a few examples of some of the override closures available:
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-c">
                                            <span class="pl-c">///</span> Overrides default behavior for URLSessionDelegate method `urlSession(_:didReceive:completionHandler:)`.
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">open</span>
                                        <span class="pl-k">var</span> sessionDidReceiveChallenge
                                        <span class="pl-k">:</span> ((URLSession, URLAuthenticationChallenge)
                                        <span class="pl-k">-&gt;</span> (URLSession.
                                        <span class="pl-smi">AuthChallengeDisposition</span>, URLCredential
                                        <span class="pl-k">?</span>))
                                        <span class="pl-k">?</span>
                                        <span class="pl-c">
                                            <span class="pl-c">///</span> Overrides default behavior for URLSessionDelegate method `urlSessionDidFinishEvents(forBackgroundURLSession:)`.
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">open</span>
                                        <span class="pl-k">var</span> sessionDidFinishEventsForBackgroundURLSession
                                        <span class="pl-k">:</span> ((URLSession)
                                        <span class="pl-k">-&gt;</span>
                                        <span class="pl-c1">Void</span>)
                                        <span class="pl-k">?</span>
                                        <span class="pl-c">
                                            <span class="pl-c">///</span> Overrides default behavior for URLSessionTaskDelegate method `urlSession(_:task:willPerformHTTPRedirection:newRequest:completionHandler:)`.
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">open</span>
                                        <span class="pl-k">var</span> taskWillPerformHTTPRedirection
                                        <span class="pl-k">:</span> ((URLSession, URLSessionTask, HTTPURLResponse, URLRequest)
                                        <span class="pl-k">-&gt;</span> URLRequest
                                        <span class="pl-k">?</span>)
                                        <span class="pl-k">?</span>
                                        <span class="pl-c">
                                            <span class="pl-c">///</span> Overrides default behavior for URLSessionDataDelegate method `urlSession(_:dataTask:willCacheResponse:completionHandler:)`.
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">open</span>
                                        <span class="pl-k">var</span> dataTaskWillCacheResponse
                                        <span class="pl-k">:</span> ((URLSession, URLSessionDataTask, CachedURLResponse)
                                        <span class="pl-k">-&gt;</span> CachedURLResponse
                                        <span class="pl-k">?</span>)
                                        <span class="pl-k">?</span>
                                    </pre>
                                </div>
                                <p>The following is a short example of how to use the
                                    <code>taskWillPerformHTTPRedirection</code> to avoid following redirects to any
                                    <code>apple.com</code> domains.
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> sessionManager
                                        <span class="pl-k">=</span> Alamofire.
                                        <span class="pl-c1">SessionManager</span>(
                                        <span class="pl-c1">configuration</span>: URLSessionConfiguration.
                                        <span class="pl-smi">default</span>)

                                        <span class="pl-k">let</span> delegate
                                        <span class="pl-k">:</span> Alamofire.
                                        <span class="pl-smi">SessionDelegate</span>
                                        <span class="pl-k">=</span> sessionManager.
                                        <span class="pl-smi">delegate</span>

delegate.
                                        <span class="pl-smi">taskWillPerformHTTPRedirection</span>
                                        <span class="pl-k">=</span> { session, task, response, request
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">var</span> finalRequest
                                        <span class="pl-k">=</span> request


                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> originalRequest
                                        <span class="pl-k">=</span> task.
                                        <span class="pl-smi">originalRequest</span>,

                                        <span class="pl-k">let</span> urlString
                                        <span class="pl-k">=</span> originalRequest.
                                        <span class="pl-c1">url</span>
                                        <span class="pl-k">?</span>.
                                        <span class="pl-smi">urlString</span>,
        urlString.
                                        <span class="pl-c1">contains</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>apple.com
                                            <span class="pl-pds">"</span>
                                        </span>)
    {
        finalRequest
                                        <span class="pl-k">=</span> originalRequest
    }


                                        <span class="pl-k">return</span> finalRequest
}
                                    </pre>
                                </div>
                                <h4>
                                    <a id="user-content-subclassing" class="anchor" href="#subclassing" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Subclassing
                                </h4>
                                <p>Another way to override the default implementation of the
                                    <code>SessionDelegate</code> is to subclass it. Subclassing allows you completely customize the behavior of the API or to create a proxy for the API and still use the default implementation. Creating a proxy allows you to log events, emit notifications, provide pre and post hook implementations, etc. Here’s a quick example of subclassing the
                                    <code>SessionDelegate</code> and logging a message when a redirect occurs.
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">class</span>
                                        <span class="pl-en">LoggingSessionDelegate</span>:
                                        <span class="pl-e">SessionDelegate </span>{

                                        <span class="pl-k">override</span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">urlSession</span>(

                                        <span class="pl-en">_</span>
                                        <span class="pl-smi">session</span>: URLSession,

                                        <span class="pl-smi">
                                            <span class="pl-en">task</span>
                                        </span>: URLSessionTask,

                                        <span class="pl-en">willPerformHTTPRedirection</span>
                                        <span class="pl-smi">response</span>: HTTPURLResponse,

                                        <span class="pl-en">newRequest</span>
                                        <span class="pl-smi">request</span>: URLRequest,

                                        <span class="pl-smi">
                                            <span class="pl-en">completionHandler</span>
                                        </span>:
                                        <span class="pl-k">@escaping</span> (URLRequest
                                        <span class="pl-k">?</span>)
                                        <span class="pl-k">-&gt;</span>
                                        <span class="pl-c1">Void</span>)
    {

                                        <span class="pl-c1">print</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>URLSession will perform HTTP redirection to request:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">request</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>
                                            <span class="pl-pds">"</span>
                                        </span>)


                                        <span class="pl-c1">super</span>.
                                        <span class="pl-c1">urlSession</span>(
            session,

                                        <span class="pl-c1">task</span>: task,

                                        <span class="pl-c1">willPerformHTTPRedirection</span>: response,

                                        <span class="pl-c1">newRequest</span>: request,

                                        <span class="pl-c1">completionHandler</span>: completionHandler
        )
    }
}
                                    </pre>
                                </div>
                                <p>Generally speaking, either the default implementation or the override closures should provide the necessary functionality required. Subclassing should only be used as a last resort.</p>
                                <blockquote>
                                    <p>It is important to keep in mind that the
                                        <code>subdelegates</code> are initialized and destroyed in the default implementation. Be careful when subclassing to not introduce memory leaks.
                                    </p>
                                </blockquote>
                                <h3>
                                    <a id="user-content-request" class="anchor" href="#request" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Request
                                </h3>
                                <p>The result of a
                                    <code>request</code>,
                                    <code>download</code>,
                                    <code>upload</code> or
                                    <code>stream</code> methods are a
                                    <code>DataRequest</code>,
                                    <code>DownloadRequest</code>,
                                    <code>UploadRequest</code> and
                                    <code>StreamRequest</code> which all inherit from
                                    <code>Request</code>. All
                                    <code>Request</code> instances are always created by an owning session manager, and never initialized directly.
                                </p>
                                <p>Each subclass has specialized methods such as
                                    <code>authenticate</code>,
                                    <code>validate</code>,
                                    <code>responseJSON</code> and
                                    <code>uploadProgress</code> that each return the caller instance in order to facilitate method chaining.
                                </p>
                                <p>Requests can be suspended, resumed and cancelled:</p>
                                <ul>
                                    <li>
                                        <code>suspend()</code>: Suspends the underlying task and dispatch queue.
                                    </li>
                                    <li>
                                        <code>resume()</code>: Resumes the underlying task and dispatch queue. If the owning manager does not have
                                        <code>startRequestsImmediately</code> set to
                                        <code>true</code>, the request must call
                                        <code>resume()</code> in order to start.
                                    </li>
                                    <li>
                                        <code>cancel()</code>: Cancels the underlying task, producing an error that is passed to any registered response handlers.
                                    </li>
                                </ul>
                                <h3>
                                    <a id="user-content-routing-requests" class="anchor" href="#routing-requests" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Routing Requests
                                </h3>
                                <p>As apps grow in size, it’s important to adopt common patterns as you build out your network stack. An important part of that design is how to route your requests. The Alamofire
                                    <code>URLConvertible</code> and
                                    <code>URLRequestConvertible</code> protocols along with the
                                    <code>Router</code> design pattern are here to help.
                                </p>
                                <h4>
                                    <a id="user-content-urlconvertible" class="anchor" href="#urlconvertible" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>URLConvertible
                                </h4>
                                <p>Types adopting the
                                    <code>URLConvertible</code> protocol can be used to construct URLs, which are then used to construct URL requests internally.
                                    <code>String</code>,
                                    <code>URL</code>, and
                                    <code>URLComponents</code> conform to
                                    <code>URLConvertible</code> by default, allowing any of them to be passed as
                                    <code>url</code> parameters to the
                                    <code>request</code>,
                                    <code>upload</code>, and
                                    <code>download</code> methods:
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> urlString
                                        <span class="pl-k">=</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://httpbin.org/post
                                            <span class="pl-pds">"</span>
                                        </span>
Alamofire.
                                        <span class="pl-c1">request</span>(urlString,
                                        <span class="pl-c1">method</span>: .
                                        <span class="pl-smi">post</span>)


                                        <span class="pl-k">let</span> url
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">URL</span>(
                                        <span class="pl-c1">string</span>: urlString)
                                        <span class="pl-k">!</span>
Alamofire.
                                        <span class="pl-c1">request</span>(url,
                                        <span class="pl-c1">method</span>: .
                                        <span class="pl-smi">post</span>)


                                        <span class="pl-k">let</span> urlComponents
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">URLComponents</span>(
                                        <span class="pl-c1">url</span>: url,
                                        <span class="pl-c1">resolvingAgainstBaseURL</span>:
                                        <span class="pl-c1">true</span>)
                                        <span class="pl-k">!</span>
Alamofire.
                                        <span class="pl-c1">request</span>(urlComponents,
                                        <span class="pl-c1">method</span>: .
                                        <span class="pl-smi">post</span>)
                                    </pre>
                                </div>
                                <p>Applications interacting with web applications in a significant manner are encouraged to have custom types conform to
                                    <code>URLConvertible</code> as a convenient way to map domain-specific models to server resources.
                                </p>
                                <h5>
                                    <a id="user-content-type-safe-routing" class="anchor" href="#type-safe-routing" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Type-Safe Routing
                                </h5>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">extension</span>
                                        <span class="pl-en">User</span>:
                                        <span class="pl-e">URLConvertible </span>{

                                        <span class="pl-k">static</span>
                                        <span class="pl-k">let</span> baseURLString
                                        <span class="pl-k">=</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://example.com
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">asURL</span>()
                                        <span class="pl-k">throws</span>
                                        <span class="pl-k">-&gt;</span> URL {

                                        <span class="pl-k">let</span> urlString
                                        <span class="pl-k">=</span> User.
                                        <span class="pl-smi">baseURLString</span>
                                        <span class="pl-k">+</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>/users/
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">username</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>/
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">return</span>
                                        <span class="pl-k">try</span> urlString.
                                        <span class="pl-c1">asURL</span>()
    }
}
                                    </pre>
                                </div>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> user
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">User</span>(
                                        <span class="pl-c1">username</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>mattt
                                            <span class="pl-pds">"</span>
                                        </span>)
Alamofire.
                                        <span class="pl-c1">request</span>(user)
                                        <span class="pl-c">
                                            <span class="pl-c">//</span> https://example.com/users/mattt
                                        </span>
                                    </pre>
                                </div>
                                <h4>
                                    <a id="user-content-urlrequestconvertible" class="anchor" href="#urlrequestconvertible" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>URLRequestConvertible
                                </h4>
                                <p>Types adopting the
                                    <code>URLRequestConvertible</code> protocol can be used to construct URL requests.
                                    <code>URLRequest</code> conforms to
                                    <code>URLRequestConvertible</code> by default, allowing it to be passed into
                                    <code>request</code>,
                                    <code>upload</code>, and
                                    <code>download</code> methods directly (this is the recommended way to specify custom HTTP body for individual requests):
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> url
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">URL</span>(
                                        <span class="pl-c1">string</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://httpbin.org/post
                                            <span class="pl-pds">"</span>
                                        </span>)
                                        <span class="pl-k">!</span>
                                        <span class="pl-k">var</span> urlRequest
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">URLRequest</span>(
                                        <span class="pl-c1">url</span>: url)
urlRequest.
                                        <span class="pl-smi">httpMethod</span>
                                        <span class="pl-k">=</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>POST
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">let</span> parameters
                                        <span class="pl-k">=</span> [
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>foo
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>bar
                                            <span class="pl-pds">"</span>
                                        </span>]


                                        <span class="pl-k">do</span> {
    urlRequest.
                                        <span class="pl-smi">httpBody</span>
                                        <span class="pl-k">=</span>
                                        <span class="pl-k">try</span> JSONSerialization.
                                        <span class="pl-c1">data</span>(
                                        <span class="pl-c1">withJSONObject</span>: parameters,
                                        <span class="pl-c1">options</span>: [])
}
                                        <span class="pl-k">catch</span> {

                                        <span class="pl-c">
                                            <span class="pl-c">//</span> No-op
                                        </span>
                                        <span class="pl-c"></span>}

urlRequest.
                                        <span class="pl-c1">setValue</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>application/json
                                            <span class="pl-pds">"</span>
                                        </span>,
                                        <span class="pl-c1">forHTTPHeaderField</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>Content-Type
                                            <span class="pl-pds">"</span>
                                        </span>)

Alamofire.
                                        <span class="pl-c1">request</span>(urlRequest)
                                    </pre>
                                </div>
                                <p>Applications interacting with web applications in a significant manner are encouraged to have custom types conform to
                                    <code>URLRequestConvertible</code> as a way to ensure consistency of requested endpoints. Such an approach can be used to abstract away server-side inconsistencies and provide type-safe routing, as well as manage authentication credentials and other state.
                                </p>
                                <h5>
                                    <a id="user-content-api-parameter-abstraction" class="anchor" href="#api-parameter-abstraction" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>API Parameter Abstraction
                                </h5>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">enum</span>
                                        <span class="pl-en">Router</span>:
                                        <span class="pl-e">URLRequestConvertible </span>{

                                        <span class="pl-k">case</span>
                                        <span class="pl-c1">search</span>(
                                        <span class="pl-en">
                                            <span class="pl-smi">query</span>
                                        </span>:
                                        <span class="pl-c1">String</span>,
                                        <span class="pl-en">
                                            <span class="pl-smi">page</span>
                                        </span>:
                                        <span class="pl-c1">Int</span>)


                                        <span class="pl-k">static</span>
                                        <span class="pl-k">let</span> baseURLString
                                        <span class="pl-k">=</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://example.com
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">static</span>
                                        <span class="pl-k">let</span> perPage
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">50</span>
                                        <span class="pl-c">
                                            <span class="pl-c">//</span> MARK: URLRequestConvertible
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">asURLRequest</span>()
                                        <span class="pl-k">throws</span>
                                        <span class="pl-k">-&gt;</span> URLRequest {

                                        <span class="pl-k">let</span> result
                                        <span class="pl-k">:</span> (
                                        <span class="pl-c1">path</span>:
                                        <span class="pl-c1">String</span>,
                                        <span class="pl-c1">parameters</span>: Parameters)
                                        <span class="pl-k">=</span> {

                                        <span class="pl-k">switch</span>
                                        <span class="pl-c1">self</span> {

                                        <span class="pl-k">case</span>
                                        <span class="pl-k">let</span> .
                                        <span class="pl-c1">search</span>(query, page)
                                        <span class="pl-k">where</span> page
                                        <span class="pl-k">&gt;</span>
                                        <span class="pl-c1">0</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-k">return</span> (
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>/search
                                            <span class="pl-pds">"</span>
                                        </span>, [
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>q
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">:</span> query,
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>offset
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">:</span> Router.
                                        <span class="pl-smi">perPage</span>
                                        <span class="pl-k">*</span> page])

                                        <span class="pl-k">case</span>
                                        <span class="pl-k">let</span> .
                                        <span class="pl-c1">search</span>(query,
                                        <span class="pl-c1">_</span>)
                                        <span class="pl-k">:</span>
                                        <span class="pl-k">return</span> (
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>/search
                                            <span class="pl-pds">"</span>
                                        </span>, [
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>q
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">:</span> query])
            }
        }()


                                        <span class="pl-k">let</span> url
                                        <span class="pl-k">=</span>
                                        <span class="pl-k">try</span> Router.
                                        <span class="pl-smi">baseURLString</span>.
                                        <span class="pl-c1">asURL</span>()

                                        <span class="pl-k">let</span> urlRequest
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">URLRequest</span>(
                                        <span class="pl-c1">url</span>: url.
                                        <span class="pl-c1">appendingPathComponent</span>(result.
                                        <span class="pl-smi">path</span>))


                                        <span class="pl-k">return</span>
                                        <span class="pl-k">try</span> URLEncoding.
                                        <span class="pl-smi">default</span>.
                                        <span class="pl-c1">encode</span>(urlRequest,
                                        <span class="pl-c1">with</span>: result.
                                        <span class="pl-smi">parameters</span>)
    }
}
                                    </pre>
                                </div>
                                <div class="highlight highlight-source-swift">
                                    <pre>Alamofire.
                                        <span class="pl-c1">request</span>(Router.
                                        <span class="pl-c1">search</span>(
                                        <span class="pl-c1">query</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>foo bar
                                            <span class="pl-pds">"</span>
                                        </span>,
                                        <span class="pl-c1">page</span>:
                                        <span class="pl-c1">1</span>))
                                        <span class="pl-c">
                                            <span class="pl-c">//</span> https://example.com/search?q=foo%20bar&amp;offset=50
                                        </span>
                                    </pre>
                                </div>
                                <h5>
                                    <a id="user-content-crud--authorization" class="anchor" href="#crud--authorization" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>CRUD &amp; Authorization
                                </h5>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">import</span>
                                        <span class="pl-en">Alamofire</span>
                                        <span class="pl-k">enum</span>
                                        <span class="pl-en">Router</span>:
                                        <span class="pl-e">URLRequestConvertible </span>{

                                        <span class="pl-k">case</span>
                                        <span class="pl-c1">createUser</span>(
                                        <span class="pl-en">
                                            <span class="pl-smi">parameters</span>
                                        </span>: Parameters)

                                        <span class="pl-k">case</span>
                                        <span class="pl-c1">readUser</span>(
                                        <span class="pl-en">
                                            <span class="pl-smi">username</span>
                                        </span>:
                                        <span class="pl-c1">String</span>)

                                        <span class="pl-k">case</span>
                                        <span class="pl-c1">updateUser</span>(
                                        <span class="pl-en">
                                            <span class="pl-smi">username</span>
                                        </span>:
                                        <span class="pl-c1">String</span>,
                                        <span class="pl-en">
                                            <span class="pl-smi">parameters</span>
                                        </span>: Parameters)

                                        <span class="pl-k">case</span>
                                        <span class="pl-c1">destroyUser</span>(
                                        <span class="pl-en">
                                            <span class="pl-smi">username</span>
                                        </span>:
                                        <span class="pl-c1">String</span>)


                                        <span class="pl-k">static</span>
                                        <span class="pl-k">let</span> baseURLString
                                        <span class="pl-k">=</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://example.com
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">var</span> method
                                        <span class="pl-k">:</span> HTTPMethod {

                                        <span class="pl-k">switch</span>
                                        <span class="pl-c1">self</span> {

                                        <span class="pl-k">case</span> .
                                        <span class="pl-smi">createUser</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-k">return</span> .
                                        <span class="pl-smi">post</span>
                                        <span class="pl-k">case</span> .
                                        <span class="pl-smi">readUser</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-k">return</span> .
                                        <span class="pl-smi">get</span>
                                        <span class="pl-k">case</span> .
                                        <span class="pl-smi">updateUser</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-k">return</span> .
                                        <span class="pl-smi">put</span>
                                        <span class="pl-k">case</span> .
                                        <span class="pl-smi">destroyUser</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-k">return</span> .
                                        <span class="pl-smi">delete</span>
        }
    }


                                        <span class="pl-k">var</span> path
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span> {

                                        <span class="pl-k">switch</span>
                                        <span class="pl-c1">self</span> {

                                        <span class="pl-k">case</span> .
                                        <span class="pl-smi">createUser</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-k">return</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>/users
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">case</span> .
                                        <span class="pl-c1">readUser</span>(
                                        <span class="pl-k">let</span> username)
                                        <span class="pl-k">:</span>
                                        <span class="pl-k">return</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>/users/
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">username</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">case</span> .
                                        <span class="pl-c1">updateUser</span>(
                                        <span class="pl-k">let</span> username,
                                        <span class="pl-c1">_</span>)
                                        <span class="pl-k">:</span>
                                        <span class="pl-k">return</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>/users/
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">username</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">case</span> .
                                        <span class="pl-c1">destroyUser</span>(
                                        <span class="pl-k">let</span> username)
                                        <span class="pl-k">:</span>
                                        <span class="pl-k">return</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>/users/
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">username</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>
                                            <span class="pl-pds">"</span>
                                        </span>
        }
    }


                                        <span class="pl-c">
                                            <span class="pl-c">//</span> MARK: URLRequestConvertible
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">asURLRequest</span>()
                                        <span class="pl-k">throws</span>
                                        <span class="pl-k">-&gt;</span> URLRequest {

                                        <span class="pl-k">let</span> url
                                        <span class="pl-k">=</span>
                                        <span class="pl-k">try</span> Router.
                                        <span class="pl-smi">baseURLString</span>.
                                        <span class="pl-c1">asURL</span>()


                                        <span class="pl-k">var</span> urlRequest
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">URLRequest</span>(
                                        <span class="pl-c1">url</span>: url.
                                        <span class="pl-c1">appendingPathComponent</span>(path))
        urlRequest.
                                        <span class="pl-smi">httpMethod</span>
                                        <span class="pl-k">=</span> method.
                                        <span class="pl-c1">rawValue</span>
                                        <span class="pl-k">switch</span>
                                        <span class="pl-c1">self</span> {

                                        <span class="pl-k">case</span> .
                                        <span class="pl-c1">createUser</span>(
                                        <span class="pl-k">let</span> parameters)
                                        <span class="pl-k">:</span>
            urlRequest
                                        <span class="pl-k">=</span>
                                        <span class="pl-k">try</span> URLEncoding.
                                        <span class="pl-smi">default</span>.
                                        <span class="pl-c1">encode</span>(urlRequest,
                                        <span class="pl-c1">with</span>: parameters)

                                        <span class="pl-k">case</span> .
                                        <span class="pl-c1">updateUser</span>(
                                        <span class="pl-c1">_</span>,
                                        <span class="pl-k">let</span> parameters)
                                        <span class="pl-k">:</span>
            urlRequest
                                        <span class="pl-k">=</span>
                                        <span class="pl-k">try</span> URLEncoding.
                                        <span class="pl-smi">default</span>.
                                        <span class="pl-c1">encode</span>(urlRequest,
                                        <span class="pl-c1">with</span>: parameters)

                                        <span class="pl-k">default</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-k">break</span>
        }


                                        <span class="pl-k">return</span> urlRequest
    }
}
                                    </pre>
                                </div>
                                <div class="highlight highlight-source-swift">
                                    <pre>Alamofire.
                                        <span class="pl-c1">request</span>(Router.
                                        <span class="pl-c1">readUser</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>mattt
                                            <span class="pl-pds">"</span>
                                        </span>))
                                        <span class="pl-c">
                                            <span class="pl-c">//</span> GET https://example.com/users/mattt
                                        </span>
                                    </pre>
                                </div>
                                <h3>
                                    <a id="user-content-adapting-and-retrying-requests" class="anchor" href="#adapting-and-retrying-requests" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Adapting and Retrying Requests
                                </h3>
                                <p>Most web services these days are behind some sort of authentication system. One of the more common ones today is OAuth. This generally involves generating an access token authorizing your application or user to call the various supported web services. While creating these initial access tokens can be laborsome, it can be even more complicated when your access token expires and you need to fetch a new one. There are many thread-safety issues that need to be considered.</p>
                                <p>The
                                    <code>RequestAdapter</code> and
                                    <code>RequestRetrier</code> protocols were created to make it much easier to create a thread-safe authentication system for a specific set of web services.
                                </p>
                                <h4>
                                    <a id="user-content-requestadapter" class="anchor" href="#requestadapter" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>RequestAdapter
                                </h4>
                                <p>The
                                    <code>RequestAdapter</code> protocol allows each
                                    <code>Request</code> made on a
                                    <code>SessionManager</code> to be inspected and adapted before being created. One very specific way to use an adapter is to append an
                                    <code>Authorization</code> header to requests behind a certain type of authentication.
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">class</span>
                                        <span class="pl-en">AccessTokenAdapter</span>:
                                        <span class="pl-e">RequestAdapter </span>{

                                        <span class="pl-k">private</span>
                                        <span class="pl-k">let</span> accessToken
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">init</span>(
                                        <span class="pl-smi">
                                            <span class="pl-en">accessToken</span>
                                        </span>:
                                        <span class="pl-c1">String</span>) {

                                        <span class="pl-c1">self</span>.
                                        <span class="pl-smi">accessToken</span>
                                        <span class="pl-k">=</span> accessToken
    }


                                        <span class="pl-k">func</span>
                                        <span class="pl-en">adapt</span>(
                                        <span class="pl-en">_</span>
                                        <span class="pl-smi">urlRequest</span>: URLRequest)
                                        <span class="pl-k">throws</span>
                                        <span class="pl-k">-&gt;</span> URLRequest {

                                        <span class="pl-k">var</span> urlRequest
                                        <span class="pl-k">=</span> urlRequest


                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> urlString
                                        <span class="pl-k">=</span> urlRequest.
                                        <span class="pl-c1">url</span>
                                        <span class="pl-k">?</span>.
                                        <span class="pl-smi">absoluteString</span>, urlString.
                                        <span class="pl-c1">hasPrefix</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://httpbin.org
                                            <span class="pl-pds">"</span>
                                        </span>) {
            urlRequest.
                                        <span class="pl-c1">setValue</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>Bearer
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">+</span> accessToken,
                                        <span class="pl-c1">forHTTPHeaderField</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>Authorization
                                            <span class="pl-pds">"</span>
                                        </span>)
        }


                                        <span class="pl-k">return</span> urlRequest
    }
}
                                    </pre>
                                </div>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> sessionManager
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">SessionManager</span>()
sessionManager.
                                        <span class="pl-smi">adapter</span>
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">AccessTokenAdapter</span>(
                                        <span class="pl-c1">accessToken</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>1234
                                            <span class="pl-pds">"</span>
                                        </span>)

sessionManager.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://httpbin.org/get
                                            <span class="pl-pds">"</span>
                                        </span>)
                                    </pre>
                                </div>
                                <h4>
                                    <a id="user-content-requestretrier" class="anchor" href="#requestretrier" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>RequestRetrier
                                </h4>
                                <p>The
                                    <code>RequestRetrier</code> protocol allows a
                                    <code>Request</code> that encountered an
                                    <code>Error</code> while being executed to be retried. When using both the
                                    <code>RequestAdapter</code> and
                                    <code>RequestRetrier</code> protocols together, you can create credential refresh systems for OAuth1, OAuth2, Basic Auth and even exponential backoff retry policies. The possibilities are endless. Here’s an example of how you could implement a refresh flow for OAuth2 access tokens.
                                </p>
                                <blockquote>
                                    <p>
                                        <strong>DISCLAIMER:</strong> This is
                                        <strong>NOT</strong> a global
                                        <code>OAuth2</code> solution. It is merely an example demonstrating how one could use the
                                        <code>RequestAdapter</code> in conjunction with the
                                        <code>RequestRetrier</code> to create a thread-safe refresh system.
                                    </p>
                                    <p>To reiterate,
                                        <strong>do NOT copy</strong> this sample code and drop it into a production application. This is merely an example. Each authentication system must be tailored to a particular platform and authentication type.
                                    </p>
                                </blockquote>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">class</span>
                                        <span class="pl-en">OAuth2Handler</span>:
                                        <span class="pl-e">RequestAdapter</span>,
                                        <span class="pl-e">RequestRetrier </span>{

                                        <span class="pl-k">private</span>
                                        <span class="pl-k">typealias</span>
                                        <span class="pl-en">RefreshCompletion</span>
                                        <span class="pl-k">=</span> (_ succeeded:
                                        <span class="pl-c1">Bool</span>, _ accessToken:
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">?</span>, _ refreshToken:
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">?</span>)
                                        <span class="pl-k">-&gt;</span>
                                        <span class="pl-c1">Void</span>
                                        <span class="pl-k">private</span>
                                        <span class="pl-k">let</span> sessionManager
                                        <span class="pl-k">:</span> SessionManager
                                        <span class="pl-k">=</span> {

                                        <span class="pl-k">let</span> configuration
                                        <span class="pl-k">=</span> URLSessionConfiguration.
                                        <span class="pl-smi">default</span>
        configuration.
                                        <span class="pl-smi">httpAdditionalHeaders</span>
                                        <span class="pl-k">=</span> SessionManager.
                                        <span class="pl-smi">defaultHTTPHeaders</span>
                                        <span class="pl-k">return</span>
                                        <span class="pl-c1">SessionManager</span>(
                                        <span class="pl-c1">configuration</span>: configuration)
    }()


                                        <span class="pl-k">private</span>
                                        <span class="pl-k">let</span> lock
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">NSLock</span>()


                                        <span class="pl-k">private</span>
                                        <span class="pl-k">var</span> clientID
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">private</span>
                                        <span class="pl-k">var</span> baseURLString
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">private</span>
                                        <span class="pl-k">var</span> accessToken
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">private</span>
                                        <span class="pl-k">var</span> refreshToken
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">private</span>
                                        <span class="pl-k">var</span> isRefreshing
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">false</span>
                                        <span class="pl-k">private</span>
                                        <span class="pl-k">var</span> requestsToRetry
                                        <span class="pl-k">:</span> [RequestRetryCompletion]
                                        <span class="pl-k">=</span> []


                                        <span class="pl-c">
                                            <span class="pl-c">//</span> MARK: - Initialization
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">public</span>
                                        <span class="pl-k">init</span>(
                                        <span class="pl-smi">
                                            <span class="pl-en">clientID</span>
                                        </span>:
                                        <span class="pl-c1">String</span>,
                                        <span class="pl-smi">
                                            <span class="pl-en">baseURLString</span>
                                        </span>:
                                        <span class="pl-c1">String</span>,
                                        <span class="pl-smi">
                                            <span class="pl-en">accessToken</span>
                                        </span>:
                                        <span class="pl-c1">String</span>,
                                        <span class="pl-smi">
                                            <span class="pl-en">refreshToken</span>
                                        </span>:
                                        <span class="pl-c1">String</span>) {

                                        <span class="pl-c1">self</span>.
                                        <span class="pl-smi">clientID</span>
                                        <span class="pl-k">=</span> clientID

                                        <span class="pl-c1">self</span>.
                                        <span class="pl-smi">baseURLString</span>
                                        <span class="pl-k">=</span> baseURLString

                                        <span class="pl-c1">self</span>.
                                        <span class="pl-smi">accessToken</span>
                                        <span class="pl-k">=</span> accessToken

                                        <span class="pl-c1">self</span>.
                                        <span class="pl-smi">refreshToken</span>
                                        <span class="pl-k">=</span> refreshToken
    }


                                        <span class="pl-c">
                                            <span class="pl-c">//</span> MARK: - RequestAdapter
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">adapt</span>(
                                        <span class="pl-en">_</span>
                                        <span class="pl-smi">urlRequest</span>: URLRequest)
                                        <span class="pl-k">throws</span>
                                        <span class="pl-k">-&gt;</span> URLRequest {

                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> urlString
                                        <span class="pl-k">=</span> urlRequest.
                                        <span class="pl-c1">url</span>
                                        <span class="pl-k">?</span>.
                                        <span class="pl-smi">absoluteString</span>, urlString.
                                        <span class="pl-c1">hasPrefix</span>(baseURLString) {

                                        <span class="pl-k">var</span> urlRequest
                                        <span class="pl-k">=</span> urlRequest
            urlRequest.
                                        <span class="pl-c1">setValue</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>Bearer
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">+</span> accessToken,
                                        <span class="pl-c1">forHTTPHeaderField</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>Authorization
                                            <span class="pl-pds">"</span>
                                        </span>)

                                        <span class="pl-k">return</span> urlRequest
        }


                                        <span class="pl-k">return</span> urlRequest
    }


                                        <span class="pl-c">
                                            <span class="pl-c">//</span> MARK: - RequestRetrier
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">should</span>(
                                        <span class="pl-en">_</span>
                                        <span class="pl-smi">manager</span>: SessionManager,
                                        <span class="pl-en">retry</span>
                                        <span class="pl-smi">request</span>: Request,
                                        <span class="pl-en">with</span>
                                        <span class="pl-smi">error</span>:
                                        <span class="pl-c1">Error</span>,
                                        <span class="pl-smi">
                                            <span class="pl-en">completion</span>
                                        </span>:
                                        <span class="pl-k">@escaping</span> RequestRetryCompletion) {
        lock.
                                        <span class="pl-c1">lock</span>() ;
                                        <span class="pl-k">defer</span> { lock.
                                        <span class="pl-c1">unlock</span>() }


                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> response
                                        <span class="pl-k">=</span> request.
                                        <span class="pl-smi">task</span>
                                        <span class="pl-k">?</span>.
                                        <span class="pl-smi">response</span>
                                        <span class="pl-k">as?</span> HTTPURLResponse, response.
                                        <span class="pl-smi">statusCode</span>
                                        <span class="pl-k">==</span>
                                        <span class="pl-c1">401</span> {
            requestsToRetry.
                                        <span class="pl-c1">append</span>(completion)


                                        <span class="pl-k">if</span>
                                        <span class="pl-k">!</span>isRefreshing {
                refreshTokens { [
                                        <span class="pl-k">weak</span>
                                        <span class="pl-c1">self</span>] succeeded, accessToken, refreshToken
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">guard</span>
                                        <span class="pl-k">let</span> strongSelf
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">self</span>
                                        <span class="pl-k">else</span> {
                                        <span class="pl-k">return</span> }

                    strongSelf.
                                        <span class="pl-smi">lock</span>.
                                        <span class="pl-c1">lock</span>() ;
                                        <span class="pl-k">defer</span> { strongSelf.
                                        <span class="pl-smi">lock</span>.
                                        <span class="pl-c1">unlock</span>() }


                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> accessToken
                                        <span class="pl-k">=</span> accessToken,
                                        <span class="pl-k">let</span> refreshToken
                                        <span class="pl-k">=</span> refreshToken {
                        strongSelf.
                                        <span class="pl-smi">accessToken</span>
                                        <span class="pl-k">=</span> accessToken
                        strongSelf.
                                        <span class="pl-smi">refreshToken</span>
                                        <span class="pl-k">=</span> refreshToken
                    }

                    strongSelf.
                                        <span class="pl-smi">requestsToRetry</span>.
                                        <span class="pl-c1">forEach</span> {
                                        <span class="pl-c1">$0</span>(succeeded,
                                        <span class="pl-c1">0.0</span>) }
                    strongSelf.
                                        <span class="pl-smi">requestsToRetry</span>.
                                        <span class="pl-c1">removeAll</span>()
                }
            }
        }
                                        <span class="pl-k">else</span> {

                                        <span class="pl-c1">completion</span>(
                                        <span class="pl-c1">false</span>,
                                        <span class="pl-c1">0.0</span>)
        }
    }


                                        <span class="pl-c">
                                            <span class="pl-c">//</span> MARK: - Private - Refresh Tokens
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">private</span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">refreshTokens</span>(
                                        <span class="pl-smi">
                                            <span class="pl-en">completion</span>
                                        </span>:
                                        <span class="pl-k">@escaping</span> RefreshCompletion) {

                                        <span class="pl-k">guard</span>
                                        <span class="pl-k">!</span>isRefreshing
                                        <span class="pl-k">else</span> {
                                        <span class="pl-k">return</span> }

        isRefreshing
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">true</span>
                                        <span class="pl-k">let</span> urlString
                                        <span class="pl-k">=</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">baseURLString</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>/oauth2/token
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">let</span> parameters
                                        <span class="pl-k">:</span> [
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">Any</span>]
                                        <span class="pl-k">=</span> [

                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>access_token
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">:</span> accessToken,

                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>refresh_token
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">:</span> refreshToken,

                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>client_id
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">:</span> clientID,

                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>grant_type
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>refresh_token
                                            <span class="pl-pds">"</span>
                                        </span>
        ]

        sessionManager.
                                        <span class="pl-c1">request</span>(urlString,
                                        <span class="pl-c1">method</span>: .
                                        <span class="pl-smi">post</span>,
                                        <span class="pl-c1">parameters</span>: parameters,
                                        <span class="pl-c1">encoding</span>: JSONEncoding.
                                        <span class="pl-smi">default</span>)
            .
                                        <span class="pl-smi">responseJSON</span> { [
                                        <span class="pl-k">weak</span>
                                        <span class="pl-c1">self</span>] response
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">guard</span>
                                        <span class="pl-k">let</span> strongSelf
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">self</span>
                                        <span class="pl-k">else</span> {
                                        <span class="pl-k">return</span> }


                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> json
                                        <span class="pl-k">=</span> response.
                                        <span class="pl-smi">result</span>.
                                        <span class="pl-c1">value</span>
                                        <span class="pl-k">as?</span> [
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">Any</span>],

                                        <span class="pl-k">let</span> accessToken
                                        <span class="pl-k">=</span> json[
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>access_token
                                            <span class="pl-pds">"</span>
                                        </span>]
                                        <span class="pl-k">as?</span>
                                        <span class="pl-c1">String</span>,

                                        <span class="pl-k">let</span> refreshToken
                                        <span class="pl-k">=</span> json[
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>refresh_token
                                            <span class="pl-pds">"</span>
                                        </span>]
                                        <span class="pl-k">as?</span>
                                        <span class="pl-c1">String</span>
                {

                                        <span class="pl-c1">completion</span>(
                                        <span class="pl-c1">true</span>, accessToken, refreshToken)
                }
                                        <span class="pl-k">else</span> {

                                        <span class="pl-c1">completion</span>(
                                        <span class="pl-c1">false</span>,
                                        <span class="pl-c1">nil</span>,
                                        <span class="pl-c1">nil</span>)
                }

                strongSelf.
                                        <span class="pl-smi">isRefreshing</span>
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">false</span>
            }
    }
}
                                    </pre>
                                </div>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> baseURLString
                                        <span class="pl-k">=</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://some.domain-behind-oauth2.com
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">let</span> oauthHandler
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">OAuth2Handler</span>(

                                        <span class="pl-c1">clientID</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>12345678
                                            <span class="pl-pds">"</span>
                                        </span>,

                                        <span class="pl-c1">baseURLString</span>: baseURLString,

                                        <span class="pl-c1">accessToken</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>abcd1234
                                            <span class="pl-pds">"</span>
                                        </span>,

                                        <span class="pl-c1">refreshToken</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>ef56789a
                                            <span class="pl-pds">"</span>
                                        </span>
)


                                        <span class="pl-k">let</span> sessionManager
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">SessionManager</span>()
sessionManager.
                                        <span class="pl-smi">adapter</span>
                                        <span class="pl-k">=</span> oauthHandler
sessionManager.
                                        <span class="pl-smi">retrier</span>
                                        <span class="pl-k">=</span> oauthHandler


                                        <span class="pl-k">let</span> urlString
                                        <span class="pl-k">=</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">baseURLString</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>/some/endpoint
                                            <span class="pl-pds">"</span>
                                        </span>

sessionManager.
                                        <span class="pl-c1">request</span>(urlString).
                                        <span class="pl-c1">validate</span>().
                                        <span class="pl-smi">responseJSON</span> { response
                                        <span class="pl-k">in</span>
                                        <span class="pl-c1">debugPrint</span>(response)
}
                                    </pre>
                                </div>
                                <p>Once the
                                    <code>OAuth2Handler</code> is applied as both the
                                    <code>adapter</code> and
                                    <code>retrier</code> for the
                                    <code>SessionManager</code>, it will handle an invalid access token error by automatically refreshing the access token and retrying all failed requests in the same order they failed.
                                </p>
                                <blockquote>
                                    <p>If you needed them to execute in the same order they were created, you could sort them by their task identifiers.</p>
                                </blockquote>
                                <p>The example above only checks for a
                                    <code>401</code> response code which is not nearly robust enough, but does demonstrate how one could check for an invalid access token error. In a production application, one would want to check the
                                    <code>realm</code> and most likely the
                                    <code>www-authenticate</code> header response although it depends on the OAuth2 implementation.
                                </p>
                                <p>Another important note is that this authentication system could be shared between multiple session managers. For example, you may need to use both a
                                    <code>default</code> and
                                    <code>ephemeral</code> session configuration for the same set of web services. The example above allows the same
                                    <code>oauthHandler</code> instance to be shared across multiple session managers to manage the single refresh flow.
                                </p>
                                <h3>
                                    <a id="user-content-custom-response-serialization" class="anchor" href="#custom-response-serialization" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Custom Response Serialization
                                </h3>
                                <p>Alamofire provides built-in response serialization for data, strings, JSON, and property lists:</p>
                                <div class="highlight highlight-source-swift">
                                    <pre>Alamofire.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-k">...</span>).
                                        <span class="pl-smi">responseData</span> { (
                                        <span class="pl-c1">resp</span>: DataResponse
                                        <span class="pl-k">&lt;</span>Data
                                        <span class="pl-k">&gt;</span>)
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">...</span> }
Alamofire.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-k">...</span>).
                                        <span class="pl-smi">responseString</span> { (
                                        <span class="pl-c1">resp</span>: DataResponse
                                        <span class="pl-k">&lt;</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">&gt;</span>)
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">...</span> }
Alamofire.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-k">...</span>).
                                        <span class="pl-smi">responseJSON</span> { (
                                        <span class="pl-c1">resp</span>: DataResponse
                                        <span class="pl-k">&lt;</span>
                                        <span class="pl-c1">Any</span>
                                        <span class="pl-k">&gt;</span>)
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">...</span> }
Alamofire.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-k">...</span>).
                                        <span class="pl-smi">responsePropertyList</span> { resp
                                        <span class="pl-k">:</span> DataResponse
                                        <span class="pl-k">&lt;</span>
                                        <span class="pl-c1">Any</span>
                                        <span class="pl-k">&gt;</span>)
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">...</span> }
                                    </pre>
                                </div>
                                <p>Those responses wrap deserialized
                                    <em>values</em> (Data, String, Any) or
                                    <em>errors</em> (network, validation errors), as well as
                                    <em>meta-data</em> (URL request, HTTP headers, status code,
                                    <a href="#statistical-metrics">metrics</a>, …).
                                </p>
                                <p>You have several ways to customize all of those response elements:</p>
                                <ul>
                                    <li>
                                        <a href="#response-mapping">Response Mapping</a>
                                    </li>
                                    <li>
                                        <a href="#handling-errors">Handling Errors</a>
                                    </li>
                                    <li>
                                        <a href="#creating-a-custom-response-serializer">Creating a Custom Response Serializer</a>
                                    </li>
                                    <li>
                                        <a href="#generic-response-object-serialization">Generic Response Object Serialization</a>
                                    </li>
                                </ul>
                                <h4>
                                    <a id="user-content-response-mapping" class="anchor" href="#response-mapping" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Response Mapping
                                </h4>
                                <p>Response mapping is the simplest way to produce customized responses. It transforms the value of a response, while preserving eventual errors and meta-data. For example, you can turn a json response
                                    <code>DataResponse&lt;Any&gt;</code> into a response that holds an application model, such as
                                    <code>DataResponse&lt;User&gt;</code>. You perform response mapping with the
                                    <code>DataResponse.map</code> method:
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>Alamofire.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://example.com/users/mattt
                                            <span class="pl-pds">"</span>
                                        </span>).
                                        <span class="pl-smi">responseJSON</span> { (
                                        <span class="pl-c1">response</span>: DataResponse
                                        <span class="pl-k">&lt;</span>
                                        <span class="pl-c1">Any</span>
                                        <span class="pl-k">&gt;</span>)
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">let</span> userResponse
                                        <span class="pl-k">=</span> response.
                                        <span class="pl-c1">map</span> { json
                                        <span class="pl-k">in</span>
                                        <span class="pl-c">
                                            <span class="pl-c">//</span> We assume an existing User(json: Any) initializer
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">return</span>
                                        <span class="pl-c1">User</span>(
                                        <span class="pl-c1">json</span>: json)
    }


                                        <span class="pl-c">
                                            <span class="pl-c">//</span> Process userResponse, of type DataResponse&lt;User&gt;:
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> user
                                        <span class="pl-k">=</span> userResponse.
                                        <span class="pl-c1">value</span> {

                                        <span class="pl-c1">print</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>User: { username:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">user.
                                                <span class="pl-smi">username</span>
                                            </span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>, name:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">user.
                                                <span class="pl-smi">name</span>
                                            </span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span> }
                                            <span class="pl-pds">"</span>
                                        </span>)
    }
}
                                    </pre>
                                </div>
                                <p>When the transformation may throw an error, use
                                    <code>flatMap</code> instead:
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>Alamofire.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://example.com/users/mattt
                                            <span class="pl-pds">"</span>
                                        </span>).
                                        <span class="pl-smi">responseJSON</span> { response
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">let</span> userResponse
                                        <span class="pl-k">=</span> response.
                                        <span class="pl-c1">flatMap</span> { json
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">try</span>
                                        <span class="pl-c1">User</span>(
                                        <span class="pl-c1">json</span>: json)
    }
}
                                    </pre>
                                </div>
                                <p>Response mapping is a good fit for your custom completion handlers:</p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">@discardableResult</span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">loadUser</span>(
                                        <span class="pl-smi">
                                            <span class="pl-en">completionHandler</span>
                                        </span>:
                                        <span class="pl-k">@escaping</span> (DataResponse&lt;User&gt;)
                                        <span class="pl-k">-&gt;</span>
                                        <span class="pl-c1">Void</span>)
                                        <span class="pl-k">-&gt;</span> Alamofire.DataRequest {

                                        <span class="pl-k">return</span> Alamofire.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://example.com/users/mattt
                                            <span class="pl-pds">"</span>
                                        </span>).
                                        <span class="pl-smi">responseJSON</span> { response
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">let</span> userResponse
                                        <span class="pl-k">=</span> response.
                                        <span class="pl-c1">flatMap</span> { json
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">try</span>
                                        <span class="pl-c1">User</span>(
                                        <span class="pl-c1">json</span>: json)
        }


                                        <span class="pl-c1">completionHandler</span>(userResponse)
    }
}

loadUser { response
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> user
                                        <span class="pl-k">=</span> userResponse.
                                        <span class="pl-c1">value</span> {

                                        <span class="pl-c1">print</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>User: { username:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">user.
                                                <span class="pl-smi">username</span>
                                            </span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>, name:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">user.
                                                <span class="pl-smi">name</span>
                                            </span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span> }
                                            <span class="pl-pds">"</span>
                                        </span>)
    }
}
                                    </pre>
                                </div>
                                <p>When the map/flatMap closure may process a big amount of data, make sure you execute it outside of the main thread:</p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">@discardableResult</span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">loadUser</span>(
                                        <span class="pl-smi">
                                            <span class="pl-en">completionHandler</span>
                                        </span>:
                                        <span class="pl-k">@escaping</span> (DataResponse&lt;User&gt;)
                                        <span class="pl-k">-&gt;</span>
                                        <span class="pl-c1">Void</span>)
                                        <span class="pl-k">-&gt;</span> Alamofire.DataRequest {

                                        <span class="pl-k">let</span> utilityQueue
                                        <span class="pl-k">=</span> DispatchQueue.
                                        <span class="pl-c1">global</span>(
                                        <span class="pl-c1">qos</span>: .
                                        <span class="pl-smi">utility</span>)


                                        <span class="pl-k">return</span> Alamofire.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://example.com/users/mattt
                                            <span class="pl-pds">"</span>
                                        </span>).
                                        <span class="pl-c1">responseJSON</span>(
                                        <span class="pl-c1">queue</span>: utilityQueue) { response
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">let</span> userResponse
                                        <span class="pl-k">=</span> response.
                                        <span class="pl-c1">flatMap</span> { json
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">try</span>
                                        <span class="pl-c1">User</span>(
                                        <span class="pl-c1">json</span>: json)
        }

        DispatchQueue.
                                        <span class="pl-smi">main</span>.
                                        <span class="pl-smi">async</span> {

                                        <span class="pl-c1">completionHandler</span>(userResponse)
        }
    }
}
                                    </pre>
                                </div>
                                <p>
                                    <code>map</code> and
                                    <code>flatMap</code> are also available for
                                    <a href="#downloading-data-to-a-file">download responses</a>.
                                </p>
                                <h4>
                                    <a id="user-content-handling-errors" class="anchor" href="#handling-errors" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Handling Errors
                                </h4>
                                <p>Before implementing custom response serializers or object serialization methods, it’s important to consider how to handle any errors that may occur. There are two basic options: passing existing errors along unmodified, to be dealt with at response time; or, wrapping all errors in an
                                    <code>Error</code> type specific to your app.
                                </p>
                                <p>For example, here’s a simple
                                    <code>BackendError</code> enum which will be used in later examples:
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">enum</span>
                                        <span class="pl-en">BackendError</span>:
                                        <span class="pl-e">
                                            <span class="pl-c1">Error</span>
                                        </span>{

                                        <span class="pl-k">case</span>
                                        <span class="pl-c1">network</span>(
                                        <span class="pl-en">
                                            <span class="pl-smi">error</span>
                                        </span>:
                                        <span class="pl-c1">Error</span>)
                                        <span class="pl-c">
                                            <span class="pl-c">//</span> Capture any underlying Error from the URLSession API
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">case</span>
                                        <span class="pl-c1">dataSerialization</span>(
                                        <span class="pl-en">
                                            <span class="pl-smi">error</span>
                                        </span>:
                                        <span class="pl-c1">Error</span>)

                                        <span class="pl-k">case</span>
                                        <span class="pl-c1">jsonSerialization</span>(
                                        <span class="pl-en">
                                            <span class="pl-smi">error</span>
                                        </span>:
                                        <span class="pl-c1">Error</span>)

                                        <span class="pl-k">case</span>
                                        <span class="pl-c1">xmlSerialization</span>(
                                        <span class="pl-en">
                                            <span class="pl-smi">error</span>
                                        </span>:
                                        <span class="pl-c1">Error</span>)

                                        <span class="pl-k">case</span>
                                        <span class="pl-c1">objectSerialization</span>(
                                        <span class="pl-en">
                                            <span class="pl-smi">reason</span>
                                        </span>:
                                        <span class="pl-c1">String</span>)
}
                                    </pre>
                                </div>
                                <h4>
                                    <a id="user-content-creating-a-custom-response-serializer" class="anchor" href="#creating-a-custom-response-serializer" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Creating a Custom Response Serializer
                                </h4>
                                <p>Alamofire provides built-in response serialization for strings, JSON, and property lists, but others can be added in extensions on
                                    <code>Alamofire.DataRequest</code> and / or
                                    <code>Alamofire.DownloadRequest</code>.
                                </p>
                                <p>For example, here’s how a response handler using
                                    <a href="https://github.com/mattt/Ono">Ono</a> might be implemented:
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">extension</span>
                                        <span class="pl-en">DataRequest</span> {

                                        <span class="pl-k">static</span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">xmlResponseSerializer</span>()
                                        <span class="pl-k">-&gt;</span> DataResponseSerializer&lt;ONOXMLDocument&gt; {

                                        <span class="pl-k">return</span> DataResponseSerializer { request, response, data, error
                                        <span class="pl-k">in</span>
                                        <span class="pl-c">
                                            <span class="pl-c">//</span> Pass through any underlying URLSession error to the .network case.
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">guard</span> error
                                        <span class="pl-k">==</span>
                                        <span class="pl-c1">nil</span>
                                        <span class="pl-k">else</span> {
                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">failure</span>(BackendError.
                                        <span class="pl-c1">network</span>(
                                        <span class="pl-c1">error</span>: error
                                        <span class="pl-k">!</span>)) }


                                        <span class="pl-c">
                                            <span class="pl-c">//</span> Use Alamofire's existing data serializer to extract the data, passing the error as nil, as it has
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-c">
                                            <span class="pl-c">//</span> already been handled.
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">let</span> result
                                        <span class="pl-k">=</span> Request.
                                        <span class="pl-c1">serializeResponseData</span>(
                                        <span class="pl-c1">response</span>: response,
                                        <span class="pl-c1">data</span>: data,
                                        <span class="pl-c1">error</span>:
                                        <span class="pl-c1">nil</span>)


                                        <span class="pl-k">guard</span>
                                        <span class="pl-k">case</span>
                                        <span class="pl-k">let</span> .
                                        <span class="pl-c1">success</span>(validData)
                                        <span class="pl-k">=</span> result
                                        <span class="pl-k">else</span> {

                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">failure</span>(BackendError.
                                        <span class="pl-c1">dataSerialization</span>(
                                        <span class="pl-c1">error</span>: result.
                                        <span class="pl-c1">error</span>
                                        <span class="pl-k">!</span>
                                        <span class="pl-k">as!</span> AFError))
            }


                                        <span class="pl-k">do</span> {

                                        <span class="pl-k">let</span> xml
                                        <span class="pl-k">=</span>
                                        <span class="pl-k">try</span>
                                        <span class="pl-c1">ONOXMLDocument</span>(
                                        <span class="pl-c1">data</span>: validData)

                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">success</span>(xml)
            }
                                        <span class="pl-k">catch</span> {

                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">failure</span>(BackendError.
                                        <span class="pl-c1">xmlSerialization</span>(
                                        <span class="pl-c1">error</span>: error))
            }
        }
    }


                                        <span class="pl-k">@discardableResult</span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">responseXMLDocument</span>(

                                        <span class="pl-smi">
                                            <span class="pl-en">queue</span>
                                        </span>: DispatchQueue
                                        <span class="pl-k">?</span>
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">nil</span>,

                                        <span class="pl-smi">
                                            <span class="pl-en">completionHandler</span>
                                        </span>:
                                        <span class="pl-k">@escaping</span> (DataResponse&lt;ONOXMLDocument&gt;)
                                        <span class="pl-k">-&gt;</span>
                                        <span class="pl-c1">Void</span>)

                                        <span class="pl-k">-&gt;</span>
                                        <span class="pl-c1">Self</span>
    {

                                        <span class="pl-k">return</span>
                                        <span class="pl-c1">response</span>(

                                        <span class="pl-c1">queue</span>: queue,

                                        <span class="pl-c1">responseSerializer</span>: DataRequest.
                                        <span class="pl-c1">xmlResponseSerializer</span>(),

                                        <span class="pl-c1">completionHandler</span>: completionHandler
        )
    }
}
                                    </pre>
                                </div>
                                <h4>
                                    <a id="user-content-generic-response-object-serialization" class="anchor" href="#generic-response-object-serialization" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Generic Response Object Serialization
                                </h4>
                                <p>Generics can be used to provide automatic, type-safe response object serialization.</p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">protocol</span>
                                        <span class="pl-en">ResponseObjectSerializable</span> {

                                        <span class="pl-k">init?</span>(
                                        <span class="pl-smi">
                                            <span class="pl-en">response</span>
                                        </span>: HTTPURLResponse,
                                        <span class="pl-smi">
                                            <span class="pl-en">representation</span>
                                        </span>:
                                        <span class="pl-c1">Any</span>)
}


                                        <span class="pl-k">extension</span>
                                        <span class="pl-en">DataRequest</span> {

                                        <span class="pl-k">func</span>
                                        <span class="pl-en">responseObject</span>&lt;
                                        <span class="pl-c1">T</span>:
                                        <span class="pl-e">ResponseObjectSerializable</span>&gt;(

                                        <span class="pl-smi">
                                            <span class="pl-en">queue</span>
                                        </span>: DispatchQueue
                                        <span class="pl-k">?</span>
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">nil</span>,

                                        <span class="pl-smi">
                                            <span class="pl-en">completionHandler</span>
                                        </span>:
                                        <span class="pl-k">@escaping</span> (DataResponse&lt;T&gt;)
                                        <span class="pl-k">-&gt;</span>
                                        <span class="pl-c1">Void</span>)

                                        <span class="pl-k">-&gt;</span>
                                        <span class="pl-c1">Self</span>
    {

                                        <span class="pl-k">let</span> responseSerializer
                                        <span class="pl-k">=</span> DataResponseSerializer
                                        <span class="pl-k">&lt;</span>T
                                        <span class="pl-k">&gt;</span> { request, response, data, error
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">guard</span> error
                                        <span class="pl-k">==</span>
                                        <span class="pl-c1">nil</span>
                                        <span class="pl-k">else</span> {
                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">failure</span>(BackendError.
                                        <span class="pl-c1">network</span>(
                                        <span class="pl-c1">error</span>: error
                                        <span class="pl-k">!</span>)) }


                                        <span class="pl-k">let</span> jsonResponseSerializer
                                        <span class="pl-k">=</span> DataRequest.
                                        <span class="pl-c1">jsonResponseSerializer</span>(
                                        <span class="pl-c1">options</span>: .
                                        <span class="pl-smi">allowFragments</span>)

                                        <span class="pl-k">let</span> result
                                        <span class="pl-k">=</span> jsonResponseSerializer.
                                        <span class="pl-c1">serializeResponse</span>(request, response, data,
                                        <span class="pl-c1">nil</span>)


                                        <span class="pl-k">guard</span>
                                        <span class="pl-k">case</span>
                                        <span class="pl-k">let</span> .
                                        <span class="pl-c1">success</span>(jsonObject)
                                        <span class="pl-k">=</span> result
                                        <span class="pl-k">else</span> {

                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">failure</span>(BackendError.
                                        <span class="pl-c1">jsonSerialization</span>(
                                        <span class="pl-c1">error</span>: result.
                                        <span class="pl-c1">error</span>
                                        <span class="pl-k">!</span>))
            }


                                        <span class="pl-k">guard</span>
                                        <span class="pl-k">let</span> response
                                        <span class="pl-k">=</span> response,
                                        <span class="pl-k">let</span> responseObject
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">T</span>(
                                        <span class="pl-c1">response</span>: response,
                                        <span class="pl-c1">representation</span>: jsonObject)
                                        <span class="pl-k">else</span> {

                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">failure</span>(BackendError.
                                        <span class="pl-c1">objectSerialization</span>(
                                        <span class="pl-c1">reason</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>JSON could not be serialized:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">jsonObject</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>
                                            <span class="pl-pds">"</span>
                                        </span>))
            }


                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">success</span>(responseObject)
        }


                                        <span class="pl-k">return</span>
                                        <span class="pl-c1">response</span>(
                                        <span class="pl-c1">queue</span>: queue,
                                        <span class="pl-c1">responseSerializer</span>: responseSerializer,
                                        <span class="pl-c1">completionHandler</span>: completionHandler)
    }
}
                                    </pre>
                                </div>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">struct</span>
                                        <span class="pl-en">User</span>:
                                        <span class="pl-e">ResponseObjectSerializable</span>,
                                        <span class="pl-e">
                                            <span class="pl-c1">CustomStringConvertible</span>
                                        </span>{

                                        <span class="pl-k">let</span> username
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">let</span> name
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">var</span> description
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span> {

                                        <span class="pl-k">return</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>User: { username:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">username</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>, name:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">name</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span> }
                                            <span class="pl-pds">"</span>
                                        </span>
    }


                                        <span class="pl-k">init?</span>(
                                        <span class="pl-smi">
                                            <span class="pl-en">response</span>
                                        </span>: HTTPURLResponse,
                                        <span class="pl-smi">
                                            <span class="pl-en">representation</span>
                                        </span>:
                                        <span class="pl-c1">Any</span>) {

                                        <span class="pl-k">guard</span>
                                        <span class="pl-k">let</span> username
                                        <span class="pl-k">=</span> response.
                                        <span class="pl-c1">url</span>
                                        <span class="pl-k">?</span>.
                                        <span class="pl-smi">lastPathComponent</span>,

                                        <span class="pl-k">let</span> representation
                                        <span class="pl-k">=</span> representation
                                        <span class="pl-k">as?</span> [
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">Any</span>],

                                        <span class="pl-k">let</span> name
                                        <span class="pl-k">=</span> representation[
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>name
                                            <span class="pl-pds">"</span>
                                        </span>]
                                        <span class="pl-k">as?</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">else</span> {
                                        <span class="pl-k">return</span>
                                        <span class="pl-c1">nil</span> }


                                        <span class="pl-c1">self</span>.
                                        <span class="pl-smi">username</span>
                                        <span class="pl-k">=</span> username

                                        <span class="pl-c1">self</span>.
                                        <span class="pl-smi">name</span>
                                        <span class="pl-k">=</span> name
    }
}
                                    </pre>
                                </div>
                                <div class="highlight highlight-source-swift">
                                    <pre>Alamofire.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://example.com/users/mattt
                                            <span class="pl-pds">"</span>
                                        </span>).
                                        <span class="pl-smi">responseObject</span> { (
                                        <span class="pl-c1">response</span>: DataResponse
                                        <span class="pl-k">&lt;</span>User
                                        <span class="pl-k">&gt;</span>)
                                        <span class="pl-k">in</span>
                                        <span class="pl-c1">debugPrint</span>(response)


                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> user
                                        <span class="pl-k">=</span> response.
                                        <span class="pl-smi">result</span>.
                                        <span class="pl-c1">value</span> {

                                        <span class="pl-c1">print</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>User: { username:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">user.
                                                <span class="pl-smi">username</span>
                                            </span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>, name:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">user.
                                                <span class="pl-smi">name</span>
                                            </span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span> }
                                            <span class="pl-pds">"</span>
                                        </span>)
    }
}
                                    </pre>
                                </div>
                                <p>The same approach can also be used to handle endpoints that return a representation of a collection of objects:</p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">protocol</span>
                                        <span class="pl-en">ResponseCollectionSerializable</span> {

                                        <span class="pl-k">static</span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">collection</span>(
                                        <span class="pl-en">from</span>
                                        <span class="pl-smi">response</span>: HTTPURLResponse,
                                        <span class="pl-en">withRepresentation</span>
                                        <span class="pl-smi">representation</span>:
                                        <span class="pl-c1">Any</span>)
                                        <span class="pl-k">-&gt;</span> [
                                        <span class="pl-c1">Self</span>]
}


                                        <span class="pl-k">extension</span>
                                        <span class="pl-en">ResponseCollectionSerializable</span>
                                        <span class="pl-k">where</span>
                                        <span class="pl-c1">Self</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-e">ResponseObjectSerializable</span> {

                                        <span class="pl-k">static</span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">collection</span>(
                                        <span class="pl-en">from</span>
                                        <span class="pl-smi">response</span>: HTTPURLResponse,
                                        <span class="pl-en">withRepresentation</span>
                                        <span class="pl-smi">representation</span>:
                                        <span class="pl-c1">Any</span>)
                                        <span class="pl-k">-&gt;</span> [
                                        <span class="pl-c1">Self</span>] {

                                        <span class="pl-k">var</span> collection
                                        <span class="pl-k">:</span> [
                                        <span class="pl-c1">Self</span>]
                                        <span class="pl-k">=</span> []


                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> representation
                                        <span class="pl-k">=</span> representation
                                        <span class="pl-k">as?</span> [[
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">Any</span>]] {

                                        <span class="pl-k">for</span> itemRepresentation
                                        <span class="pl-k">in</span> representation {

                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> item
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">Self</span>(
                                        <span class="pl-c1">response</span>: response,
                                        <span class="pl-c1">representation</span>: itemRepresentation) {
                    collection.
                                        <span class="pl-c1">append</span>(item)
                }
            }
        }


                                        <span class="pl-k">return</span> collection
    }
}
                                    </pre>
                                </div>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">extension</span>
                                        <span class="pl-en">DataRequest</span> {

                                        <span class="pl-k">@discardableResult</span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">responseCollection</span>&lt;
                                        <span class="pl-c1">T</span>:
                                        <span class="pl-e">ResponseCollectionSerializable</span>&gt;(

                                        <span class="pl-smi">
                                            <span class="pl-en">queue</span>
                                        </span>: DispatchQueue
                                        <span class="pl-k">?</span>
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">nil</span>,

                                        <span class="pl-smi">
                                            <span class="pl-en">completionHandler</span>
                                        </span>:
                                        <span class="pl-k">@escaping</span> (DataResponse&lt;[T]&gt;)
                                        <span class="pl-k">-&gt;</span>
                                        <span class="pl-c1">Void</span>)
                                        <span class="pl-k">-&gt;</span>
                                        <span class="pl-c1">Self</span>
    {

                                        <span class="pl-k">let</span> responseSerializer
                                        <span class="pl-k">=</span> DataResponseSerializer
                                        <span class="pl-k">&lt;</span>[T]
                                        <span class="pl-k">&gt;</span> { request, response, data, error
                                        <span class="pl-k">in</span>
                                        <span class="pl-k">guard</span> error
                                        <span class="pl-k">==</span>
                                        <span class="pl-c1">nil</span>
                                        <span class="pl-k">else</span> {
                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">failure</span>(BackendError.
                                        <span class="pl-c1">network</span>(
                                        <span class="pl-c1">error</span>: error
                                        <span class="pl-k">!</span>)) }


                                        <span class="pl-k">let</span> jsonSerializer
                                        <span class="pl-k">=</span> DataRequest.
                                        <span class="pl-c1">jsonResponseSerializer</span>(
                                        <span class="pl-c1">options</span>: .
                                        <span class="pl-smi">allowFragments</span>)

                                        <span class="pl-k">let</span> result
                                        <span class="pl-k">=</span> jsonSerializer.
                                        <span class="pl-c1">serializeResponse</span>(request, response, data,
                                        <span class="pl-c1">nil</span>)


                                        <span class="pl-k">guard</span>
                                        <span class="pl-k">case</span>
                                        <span class="pl-k">let</span> .
                                        <span class="pl-c1">success</span>(jsonObject)
                                        <span class="pl-k">=</span> result
                                        <span class="pl-k">else</span> {

                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">failure</span>(BackendError.
                                        <span class="pl-c1">jsonSerialization</span>(
                                        <span class="pl-c1">error</span>: result.
                                        <span class="pl-c1">error</span>
                                        <span class="pl-k">!</span>))
            }


                                        <span class="pl-k">guard</span>
                                        <span class="pl-k">let</span> response
                                        <span class="pl-k">=</span> response
                                        <span class="pl-k">else</span> {

                                        <span class="pl-k">let</span> reason
                                        <span class="pl-k">=</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>Response collection could not be serialized due to nil response.
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">failure</span>(BackendError.
                                        <span class="pl-c1">objectSerialization</span>(
                                        <span class="pl-c1">reason</span>: reason))
            }


                                        <span class="pl-k">return</span> .
                                        <span class="pl-c1">success</span>(T.
                                        <span class="pl-c1">collection</span>(
                                        <span class="pl-c1">from</span>: response,
                                        <span class="pl-c1">withRepresentation</span>: jsonObject))
        }


                                        <span class="pl-k">return</span>
                                        <span class="pl-c1">response</span>(
                                        <span class="pl-c1">responseSerializer</span>: responseSerializer,
                                        <span class="pl-c1">completionHandler</span>: completionHandler)
    }
}
                                    </pre>
                                </div>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">struct</span>
                                        <span class="pl-en">User</span>:
                                        <span class="pl-e">ResponseObjectSerializable</span>,
                                        <span class="pl-e">ResponseCollectionSerializable</span>,
                                        <span class="pl-e">
                                            <span class="pl-c1">CustomStringConvertible</span>
                                        </span>{

                                        <span class="pl-k">let</span> username
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">let</span> name
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">var</span> description
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">String</span> {

                                        <span class="pl-k">return</span>
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>User: { username:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">username</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>, name:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">name</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span> }
                                            <span class="pl-pds">"</span>
                                        </span>
    }


                                        <span class="pl-k">init?</span>(
                                        <span class="pl-smi">
                                            <span class="pl-en">response</span>
                                        </span>: HTTPURLResponse,
                                        <span class="pl-smi">
                                            <span class="pl-en">representation</span>
                                        </span>:
                                        <span class="pl-c1">Any</span>) {

                                        <span class="pl-k">guard</span>
                                        <span class="pl-k">let</span> username
                                        <span class="pl-k">=</span> response.
                                        <span class="pl-c1">url</span>
                                        <span class="pl-k">?</span>.
                                        <span class="pl-smi">lastPathComponent</span>,

                                        <span class="pl-k">let</span> representation
                                        <span class="pl-k">=</span> representation
                                        <span class="pl-k">as?</span> [
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">:</span>
                                        <span class="pl-c1">Any</span>],

                                        <span class="pl-k">let</span> name
                                        <span class="pl-k">=</span> representation[
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>name
                                            <span class="pl-pds">"</span>
                                        </span>]
                                        <span class="pl-k">as?</span>
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">else</span> {
                                        <span class="pl-k">return</span>
                                        <span class="pl-c1">nil</span> }


                                        <span class="pl-c1">self</span>.
                                        <span class="pl-smi">username</span>
                                        <span class="pl-k">=</span> username

                                        <span class="pl-c1">self</span>.
                                        <span class="pl-smi">name</span>
                                        <span class="pl-k">=</span> name
    }
}
                                    </pre>
                                </div>
                                <div class="highlight highlight-source-swift">
                                    <pre>Alamofire.
                                        <span class="pl-c1">request</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>https://example.com/users
                                            <span class="pl-pds">"</span>
                                        </span>).
                                        <span class="pl-smi">responseCollection</span> { (
                                        <span class="pl-c1">response</span>: DataResponse
                                        <span class="pl-k">&lt;</span>[User]
                                        <span class="pl-k">&gt;</span>)
                                        <span class="pl-k">in</span>
                                        <span class="pl-c1">debugPrint</span>(response)


                                        <span class="pl-k">if</span>
                                        <span class="pl-k">let</span> users
                                        <span class="pl-k">=</span> response.
                                        <span class="pl-smi">result</span>.
                                        <span class="pl-c1">value</span> {
        users.
                                        <span class="pl-c1">forEach</span> {
                                        <span class="pl-c1">print</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>-
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">
                                                <span class="pl-c1">$0</span>
                                            </span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>
                                            <span class="pl-pds">"</span>
                                        </span>) }
    }
}
                                    </pre>
                                </div>
                                <h3>
                                    <a id="user-content-security" class="anchor" href="#security" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Security
                                </h3>
                                <p>Using a secure HTTPS connection when communicating with servers and web services is an important step in securing sensitive data. By default, Alamofire will evaluate the certificate chain provided by the server using Apple’s built in validation provided by the Security framework. While this guarantees the certificate chain is valid, it does not prevent man-in-the-middle (MITM) attacks or other potential vulnerabilities. In order to mitigate MITM attacks, applications dealing with sensitive customer data or financial information should use certificate or public key pinning provided by the
                                    <code>ServerTrustPolicy</code>.
                                </p>
                                <h4>
                                    <a id="user-content-servertrustpolicy" class="anchor" href="#servertrustpolicy" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>ServerTrustPolicy
                                </h4>
                                <p>The
                                    <code>ServerTrustPolicy</code> enumeration evaluates the server trust generally provided by an
                                    <code>URLAuthenticationChallenge</code> when connecting to a server over a secure HTTPS connection.
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> serverTrustPolicy
                                        <span class="pl-k">=</span> ServerTrustPolicy.
                                        <span class="pl-c1">pinCertificates</span>(

                                        <span class="pl-c1">certificates</span>: ServerTrustPolicy.
                                        <span class="pl-c1">certificates</span>(),

                                        <span class="pl-c1">validateCertificateChain</span>:
                                        <span class="pl-c1">true</span>,

                                        <span class="pl-c1">validateHost</span>:
                                        <span class="pl-c1">true</span>
)
                                    </pre>
                                </div>
                                <p>There are many different cases of server trust evaluation giving you complete control over the validation process:</p>
                                <ul>
                                    <li>
                                        <code>performDefaultEvaluation</code>: Uses the default server trust evaluation while allowing you to control whether to validate the host provided by the challenge.
                                    </li>
                                    <li>
                                        <code>pinCertificates</code>: Uses the pinned certificates to validate the server trust. The server trust is considered valid if one of the pinned certificates match one of the server certificates.
                                    </li>
                                    <li>
                                        <code>pinPublicKeys</code>: Uses the pinned public keys to validate the server trust. The server trust is considered valid if one of the pinned public keys match one of the server certificate public keys.
                                    </li>
                                    <li>
                                        <code>disableEvaluation</code>: Disables all evaluation which in turn will always consider any server trust as valid.
                                    </li>
                                    <li>
                                        <code>customEvaluation</code>: Uses the associated closure to evaluate the validity of the server trust thus giving you complete control over the validation process. Use with caution.
                                    </li>
                                </ul>
                                <h4>
                                    <a id="user-content-server-trust-policy-manager" class="anchor" href="#server-trust-policy-manager" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Server Trust Policy Manager
                                </h4>
                                <p>The
                                    <code>ServerTrustPolicyManager</code> is responsible for storing an internal mapping of server trust policies to a particular host. This allows Alamofire to evaluate each host against a different server trust policy.
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> serverTrustPolicies
                                        <span class="pl-k">:</span> [
                                        <span class="pl-c1">String</span>
                                        <span class="pl-k">:</span> ServerTrustPolicy]
                                        <span class="pl-k">=</span> [

                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>test.example.com
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">:</span> .
                                        <span class="pl-c1">pinCertificates</span>(

                                        <span class="pl-c1">certificates</span>: ServerTrustPolicy.
                                        <span class="pl-c1">certificates</span>(),

                                        <span class="pl-c1">validateCertificateChain</span>:
                                        <span class="pl-c1">true</span>,

                                        <span class="pl-c1">validateHost</span>:
                                        <span class="pl-c1">true</span>
    ),

                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>insecure.expired-apis.com
                                            <span class="pl-pds">"</span>
                                        </span>
                                        <span class="pl-k">:</span> .
                                        <span class="pl-smi">disableEvaluation</span>
]


                                        <span class="pl-k">let</span> sessionManager
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">SessionManager</span>(

                                        <span class="pl-c1">serverTrustPolicyManager</span>:
                                        <span class="pl-c1">ServerTrustPolicyManager</span>(
                                        <span class="pl-c1">policies</span>: serverTrustPolicies)
)
                                    </pre>
                                </div>
                                <blockquote>
                                    <p>Make sure to keep a reference to the new
                                        <code>SessionManager</code> instance, otherwise your requests will all get cancelled when your
                                        <code>sessionManager</code> is deallocated.
                                    </p>
                                </blockquote>
                                <p>These server trust policies will result in the following behavior:</p>
                                <ul>
                                    <li>
                                        <code>test.example.com</code> will always use certificate pinning with certificate chain and host validation enabled thus requiring the following criteria to be met to allow the TLS handshake to succeed:
                                        <ul>
                                            <li>Certificate chain MUST be valid.</li>
                                            <li>Certificate chain MUST include one of the pinned certificates.</li>
                                            <li>Challenge host MUST match the host in the certificate chain’s leaf certificate.</li>
                                        </ul>
                                        <p></p>
                                    </li>
                                    <li>
                                        <code>insecure.expired-apis.com</code> will never evaluate the certificate chain and will always allow the TLS handshake to succeed.
                                    </li>
                                    <li>All other hosts will use the default evaluation provided by Apple.</li>
                                </ul>
                                <h5>
                                    <a id="user-content-subclassing-server-trust-policy-manager" class="anchor" href="#subclassing-server-trust-policy-manager" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Subclassing Server Trust Policy Manager
                                </h5>
                                <p>If you find yourself needing more flexible server trust policy matching behavior (i.e. wildcarded domains), then subclass the
                                    <code>ServerTrustPolicyManager</code> and override the
                                    <code>serverTrustPolicyForHost</code> method with your own custom implementation.
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">class</span>
                                        <span class="pl-en">CustomServerTrustPolicyManager</span>:
                                        <span class="pl-e">ServerTrustPolicyManager </span>{

                                        <span class="pl-k">override</span>
                                        <span class="pl-k">func</span>
                                        <span class="pl-en">serverTrustPolicy</span>(
                                        <span class="pl-en">forHost</span>
                                        <span class="pl-smi">host</span>:
                                        <span class="pl-c1">String</span>)
                                        <span class="pl-k">-&gt;</span> ServerTrustPolicy
                                        <span class="pl-k">?</span> {

                                        <span class="pl-k">var</span> policy
                                        <span class="pl-k">:</span> ServerTrustPolicy
                                        <span class="pl-k">?</span>
                                        <span class="pl-c">
                                            <span class="pl-c">//</span> Implement your custom domain matching behavior...
                                        </span>
                                        <span class="pl-c"></span>
                                        <span class="pl-k">return</span> policy
    }
}
                                    </pre>
                                </div>
                                <h4>
                                    <a id="user-content-validating-the-host" class="anchor" href="#validating-the-host" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Validating the Host
                                </h4>
                                <p>The
                                    <code>.performDefaultEvaluation</code>,
                                    <code>.pinCertificates</code> and
                                    <code>.pinPublicKeys</code> server trust policies all take a
                                    <code>validateHost</code> parameter. Setting the value to
                                    <code>true</code> will cause the server trust evaluation to verify that hostname in the certificate matches the hostname of the challenge. If they do not match, evaluation will fail. A
                                    <code>validateHost</code> value of
                                    <code>false</code> will still evaluate the full certificate chain, but will not validate the hostname of the leaf certificate.
                                </p>
                                <blockquote>
                                    <p>It is recommended that
                                        <code>validateHost</code> always be set to
                                        <code>true</code> in production environments.
                                    </p>
                                </blockquote>
                                <h4>
                                    <a id="user-content-validating-the-certificate-chain" class="anchor" href="#validating-the-certificate-chain" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Validating the Certificate Chain
                                </h4>
                                <p>Pinning certificates and public keys both have the option of validating the certificate chain using the
                                    <code>validateCertificateChain</code> parameter. By setting this value to
                                    <code>true</code>, the full certificate chain will be evaluated in addition to performing a byte equality check against the pinned certificates or public keys. A value of
                                    <code>false</code> will skip the certificate chain validation, but will still perform the byte equality check.
                                </p>
                                <p>There are several cases where it may make sense to disable certificate chain validation. The most common use cases for disabling validation are self-signed and expired certificates. The evaluation would always fail in both of these cases, but the byte equality check will still ensure you are receiving the certificate you expect from the server.</p>
                                <blockquote>
                                    <p>It is recommended that
                                        <code>validateCertificateChain</code> always be set to
                                        <code>true</code> in production environments.
                                    </p>
                                </blockquote>
                                <h4>
                                    <a id="user-content-app-transport-security" class="anchor" href="#app-transport-security" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>App Transport Security
                                </h4>
                                <p>With the addition of App Transport Security (ATS) in iOS 9, it is possible that using a custom
                                    <code>ServerTrustPolicyManager</code> with several
                                    <code>ServerTrustPolicy</code> objects will have no effect. If you continuously see
                                    <code>CFNetwork SSLHandshake failed (-9806)</code> errors, you have probably run into this problem. Apple’s ATS system overrides the entire challenge system unless you configure the ATS settings in your app’s plist to disable enough of it to allow your app to evaluate the server trust.
                                </p>
                                <p>If you run into this problem (high probability with self-signed certificates), you can work around this issue by adding the following to your
                                    <code>Info.plist</code>.
                                </p>
                                <div class="highlight highlight-text-xml">
                                    <pre>&lt;
                                        <span class="pl-ent">dict</span>&gt;
    &lt;
                                        <span class="pl-ent">key</span>&gt;NSAppTransportSecurity&lt;/
                                        <span class="pl-ent">key</span>&gt;
    &lt;
                                        <span class="pl-ent">dict</span>&gt;
        &lt;
                                        <span class="pl-ent">key</span>&gt;NSExceptionDomains&lt;/
                                        <span class="pl-ent">key</span>&gt;
        &lt;
                                        <span class="pl-ent">dict</span>&gt;
            &lt;
                                        <span class="pl-ent">key</span>&gt;example.com&lt;/
                                        <span class="pl-ent">key</span>&gt;
            &lt;
                                        <span class="pl-ent">dict</span>&gt;
                &lt;
                                        <span class="pl-ent">key</span>&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/
                                        <span class="pl-ent">key</span>&gt;
                &lt;
                                        <span class="pl-ent">true</span>/&gt;
                &lt;
                                        <span class="pl-ent">key</span>&gt;NSExceptionRequiresForwardSecrecy&lt;/
                                        <span class="pl-ent">key</span>&gt;
                &lt;
                                        <span class="pl-ent">false</span>/&gt;
                &lt;
                                        <span class="pl-ent">key</span>&gt;NSIncludesSubdomains&lt;/
                                        <span class="pl-ent">key</span>&gt;
                &lt;
                                        <span class="pl-ent">true</span>/&gt;

                                        <span class="pl-c">
                                            <span class="pl-c">&lt;!--</span> Optional: Specify minimum TLS version
                                            <span class="pl-c">--&gt;</span>
                                        </span>
                &lt;
                                        <span class="pl-ent">key</span>&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/
                                        <span class="pl-ent">key</span>&gt;
                &lt;
                                        <span class="pl-ent">string</span>&gt;TLSv1.2&lt;/
                                        <span class="pl-ent">string</span>&gt;
            &lt;/
                                        <span class="pl-ent">dict</span>&gt;
        &lt;/
                                        <span class="pl-ent">dict</span>&gt;
    &lt;/
                                        <span class="pl-ent">dict</span>&gt;
&lt;/
                                        <span class="pl-ent">dict</span>&gt;
                                    </pre>
                                </div>
                                <p>Whether you need to set the
                                    <code>NSExceptionRequiresForwardSecrecy</code> to
                                    <code>NO</code> depends on whether your TLS connection is using an allowed cipher suite. In certain cases, it will need to be set to
                                    <code>NO</code>. The
                                    <code>NSExceptionAllowsInsecureHTTPLoads</code> MUST be set to
                                    <code>YES</code> in order to allow the
                                    <code>SessionDelegate</code> to receive challenge callbacks. Once the challenge callbacks are being called, the
                                    <code>ServerTrustPolicyManager</code> will take over the server trust evaluation. You may also need to specify the
                                    <code>NSTemporaryExceptionMinimumTLSVersion</code> if you’re trying to connect to a host that only supports TLS versions less than
                                    <code>1.2</code>.
                                </p>
                                <blockquote>
                                    <p>It is recommended to always use valid certificates in production environments.</p>
                                </blockquote>
                                <h3>
                                    <a id="user-content-network-reachability" class="anchor" href="#network-reachability" aria-hidden="true">
                                        <span aria-hidden="true" class="octicon octicon-link"></span>
                                    </a>Network Reachability
                                </h3>
                                <p>The
                                    <code>NetworkReachabilityManager</code> listens for reachability changes of hosts and addresses for both WWAN and WiFi network interfaces.
                                </p>
                                <div class="highlight highlight-source-swift">
                                    <pre>
                                        <span class="pl-k">let</span> manager
                                        <span class="pl-k">=</span>
                                        <span class="pl-c1">NetworkReachabilityManager</span>(
                                        <span class="pl-c1">host</span>:
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>www.apple.com
                                            <span class="pl-pds">"</span>
                                        </span>)

manager
                                        <span class="pl-k">?</span>.
                                        <span class="pl-smi">listener</span>
                                        <span class="pl-k">=</span> { status
                                        <span class="pl-k">in</span>
                                        <span class="pl-c1">print</span>(
                                        <span class="pl-s">
                                            <span class="pl-pds">"</span>Network Status Changed:
                                            <span class="pl-pse">\(</span>
                                            <span class="pl-s1">status</span>
                                            <span class="pl-pse">
                                                <span class="pl-s1">)</span>
                                            </span>
                                            <span class="pl-pds">"</span>
                                        </span>)
}

manager
                                        <span class="pl-k">?</span>.
                                        <span class="pl-c1">startListening</span>()
                                    </pre>
                                </div>
                                <blockquote>
                                    <p>Make sure to remember to retain the
                                        <code>manager</code> in the above example, or no status changes will be reported. Also, do not include the scheme in the
                                        <code>host</code> string or reachability won’t function correctly.
                                    </p>
                                </blockquote>
                                <p>There are some important things to remember when using network reachability to determine what to do next.</p>
                                <ul>
                                    <li>
                                        <strong>Do NOT</strong> use Reachability to determine if a network request should be sent.
                                        <ul>
                                            <li>You should
                                                <strong>ALWAYS</strong> send it.
                                            </li>
                                        </ul>
                                        <p></p>
                                    </li>
                                    <li>When Reachability is restored, use the event to retry failed network requests.
                                        <ul>
                                            <li>Even though the network requests may still fail, this is a good moment to retry them.</li>
                                        </ul>
                                        <p></p>
                                    </li>
                                    <li>The network reachability status can be useful for determining why a network request may have failed.
                                        <ul>
                                            <li>If a network request fails, it is more useful to tell the user that the network request failed due to being offline rather than a more technical error, such as “request timed out.”</li>
                                        </ul>
                                        <p></p>
                                    </li>
                                </ul>
                                <blockquote>
                                    <p>It is recommended to check out
                                        <a href="https://developer.apple.com/videos/play/wwdc2012-706/">WWDC 2012 Session 706, “Networking Best Practices”</a> for more info.
                                    </p>
                                </blockquote>
                                <p></p>
                                <hr>
                                    <h2>
                                        <a id="user-content-open-radars" class="anchor" href="#open-radars" aria-hidden="true">
                                            <span aria-hidden="true" class="octicon octicon-link"></span>
                                        </a>Open Radars
                                    </h2>
                                    <p>The following radars have some effect on the current implementation of Alamofire.</p>
                                    <ul>
                                        <li>
                                            <a href="http://www.openradar.me/radar?id=5517037090635776">
                                                <code>rdar://21349340</code>
                                            </a> - Compiler throwing warning due to toll-free bridging issue in test case
                                        </li>
                                        <li>
                                            <a href="http://www.openradar.me/radar?id=5010235949318144">
                                                <code>rdar://26761490</code>
                                            </a> - Swift string interpolation causing memory leak with common usage
                                        </li>
                                        <li>
                                            <code>rdar://26870455</code> - Background URL Session Configurations do not work in the simulator
                                        </li>
                                        <li>
                                            <code>rdar://26849668</code> - Some URLProtocol APIs do not properly handle
                                            <code>URLRequest</code>
                                        </li>
                                    </ul>
                                    <h2>
                                        <a id="user-content-faq" class="anchor" href="#faq" aria-hidden="true">
                                            <span aria-hidden="true" class="octicon octicon-link"></span>
                                        </a>FAQ
                                    </h2>
                                    <h3>
                                        <a id="user-content-whats-the-origin-of-the-name-alamofire" class="anchor" href="#whats-the-origin-of-the-name-alamofire" aria-hidden="true">
                                            <span aria-hidden="true" class="octicon octicon-link"></span>
                                        </a>What’s the origin of the name Alamofire?
                                    </h3>
                                    <p>Alamofire is named after the
                                        <a href="https://aggie-horticulture.tamu.edu/wildseed/alamofire.html">Alamo Fire flower</a>, a hybrid variant of the Bluebonnet, the official state flower of Texas.
                                    </p>
                                    <h3>
                                        <a id="user-content-what-logic-belongs-in-a-router-vs-a-request-adapter" class="anchor" href="#what-logic-belongs-in-a-router-vs-a-request-adapter" aria-hidden="true">
                                            <span aria-hidden="true" class="octicon octicon-link"></span>
                                        </a>What logic belongs in a Router vs. a Request Adapter?
                                    </h3>
                                    <p>Simple, static data such as paths, parameters and common headers belong in the
                                        <code>Router</code>. Dynamic data such as an
                                        <code>Authorization</code> header whose value can changed based on an authentication system belongs in a
                                        <code>RequestAdapter</code>.
                                    </p>
                                    <p>The reason the dynamic data MUST be placed into the
                                        <code>RequestAdapter</code> is to support retry operations. When a
                                        <code>Request</code> is retried, the original request is not rebuilt meaning the
                                        <code>Router</code> will not be called again. The
                                        <code>RequestAdapter</code> is called again allowing the dynamic data to be updated on the original request before retrying the
                                        <code>Request</code>.
                                    </p>
                                    <p></p>
                                    <hr>
                                        <h2>
                                            <a id="user-content-credits" class="anchor" href="#credits" aria-hidden="true">
                                                <span aria-hidden="true" class="octicon octicon-link"></span>
                                            </a>Credits
                                        </h2>
                                        <p>Alamofire is owned and maintained by the
                                            <a href="http://alamofire.org">Alamofire Software Foundation</a>. You can follow them on Twitter at
                                            <a href="https://twitter.com/AlamofireSF">@AlamofireSF</a> for project updates and releases.
                                        </p>
                                        <h3>
                                            <a id="user-content-security-disclosure" class="anchor" href="#security-disclosure" aria-hidden="true">
                                                <span aria-hidden="true" class="octicon octicon-link"></span>
                                            </a>Security Disclosure
                                        </h3>
                                        <p>If you believe you have identified a security vulnerability with Alamofire, you should report it as soon as possible via email to
                                            <a href="/cdn-cgi/l/email-protection#1b687e786e69726f625b7a777a76747d72697e3574697c">security@alamofire.org</a>. Please do not post it to a public issue tracker.
                                        </p>
                                        <h2>
                                            <a id="user-content-donations" class="anchor" href="#donations" aria-hidden="true">
                                                <span aria-hidden="true" class="octicon octicon-link"></span>
                                            </a>Donations
                                        </h2>
                                        <p>The
                                            <a href="https://github.com/Alamofire/Foundation#members">ASF</a> is looking to raise money to officially register as a federal non-profit organization. Registering will allow us members to gain some legal protections and also allow us to put donations to use, tax free. Donating to the ASF will enable us to:
                                        </p>
                                        <ul>
                                            <li>Pay our legal fees to register as a federal non-profit organization</li>
                                            <li>Pay our yearly legal fees to keep the non-profit in good status</li>
                                            <li>Pay for our mail servers to help us stay on top of all questions and security issues</li>
                                            <li>Potentially fund test servers to make it easier for us to test the edge cases</li>
                                            <li>Potentially fund developers to work on one of our projects full-time</li>
                                        </ul>
                                        <p>The community adoption of the ASF libraries has been amazing. We are greatly humbled by your enthusiasm around the projects, and want to continue to do everything we can to move the needle forward. With your continued support, the ASF will be able to improve its reach and also provide better legal safety for the core members. If you use any of our libraries for work, see if your employers would be interested in donating. Our initial goal is to raise $1000 to get all our legal ducks in a row and kickstart this campaign. Any amount you can donate today to help us reach our goal would be greatly appreciated.</p>
                                        <p>
                                            <a href="https://pledgie.com/campaigns/31474">
                                                <img alt="Click here to lend your support to: Alamofire Software Foundation and make a donation at pledgie.com !" src="https://camo.githubusercontent.com/2cab34ab9bb080e697c404c652fbd31d3ccbd607/68747470733a2f2f706c65646769652e636f6d2f63616d706169676e732f33313437342e706e673f736b696e5f6e616d653d6368726f6d65" border="0" data-canonical-src="https://pledgie.com/campaigns/31474.png?skin_name=chrome" style="max-width:100%;">
                                                </a>
                                            </p>
                                            <h2>
                                                <a id="user-content-license" class="anchor" href="#license" aria-hidden="true">
                                                    <span aria-hidden="true" class="octicon octicon-link"></span>
                                                </a>License
                                            </h2>
                                            <p>Alamofire is released under the MIT license. See LICENSE for details.</p>
                                        </section>
                                    </div>
                                    <div class="tab-pane" id="changelog_content"></div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <script>/*
                            <![CDATA[ */(function(d,s,a,i,j,r,l,m,t){try{l=d.getElementsByTagName('a');t=d.createElement('textarea');for(i=0;l.length-i;i++){try{a=l[i].href;s=a.indexOf('/cdn-cgi/l/email-protection');m=a.length;if(a&&s>-1&&m>28){j=28+s;s='';if(j<m){r='0x'+a.substr(j,2)|0;for(j+=2;j<m&&a.charAt(j)!='X';j+=2)s+='%'+('0'+('0x'+a.substr(j,2)^r).toString(16)).slice(-2);j++;s=decodeURIComponent(s)+a.substr(j,m-j)}t.innerHTML=s.replace(/</g,'&lt;').replace(/\>/g,'&gt;');l[i].href='mailto:'+t.value}}catch(e){}}}catch(e){}})(document);/* ]]> */
                        </script>
